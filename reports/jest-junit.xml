<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="jest tests" tests="755" failures="69" errors="0" time="1014.948">
  <testsuite name="SSE Connection Establishment and MCP Handshake Testing" errors="0" failures="1" skipped="0" timestamp="2025-06-13T13:20:52" time="38.173" tests="17">
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Basic SSE Connection Establishment should establish SSE connection within expected timeframe" name="SSE Connection Establishment and MCP Handshake Testing Basic SSE Connection Establishment should establish SSE connection within expected timeframe" time="0.153">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Basic SSE Connection Establishment should handle multiple simultaneous SSE connections" name="SSE Connection Establishment and MCP Handshake Testing Basic SSE Connection Establishment should handle multiple simultaneous SSE connections" time="0.135">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Basic SSE Connection Establishment should send initial connection confirmation message" name="SSE Connection Establishment and MCP Handshake Testing Basic SSE Connection Establishment should send initial connection confirmation message" time="0.109">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Basic SSE Connection Establishment should maintain heartbeat mechanism" name="SSE Connection Establishment and MCP Handshake Testing Basic SSE Connection Establishment should maintain heartbeat mechanism" time="35.129">
      <failure>Error: Event heartbeat not received within 35000ms
    at MockMCPClient.waitForEvent (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/sse-connection-handshake.test.ts:139:11)
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/sse-connection-handshake.test.ts:281:30)</failure>
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing MCP Protocol Handshake should complete proper MCP initialization handshake" name="SSE Connection Establishment and MCP Handshake Testing MCP Protocol Handshake should complete proper MCP initialization handshake" time="0.105">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing MCP Protocol Handshake should support capability negotiation" name="SSE Connection Establishment and MCP Handshake Testing MCP Protocol Handshake should support capability negotiation" time="0.107">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing MCP Protocol Handshake should handle invalid handshake messages gracefully" name="SSE Connection Establishment and MCP Handshake Testing MCP Protocol Handshake should handle invalid handshake messages gracefully" time="0.123">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing MCP Protocol Handshake should validate JSON-RPC 2.0 compliance" name="SSE Connection Establishment and MCP Handshake Testing MCP Protocol Handshake should validate JSON-RPC 2.0 compliance" time="0.108">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Tool Discovery Through SSE should list available tools correctly" name="SSE Connection Establishment and MCP Handshake Testing Tool Discovery Through SSE should list available tools correctly" time="0.109">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Tool Discovery Through SSE should handle tool calls with proper error handling" name="SSE Connection Establishment and MCP Handshake Testing Tool Discovery Through SSE should handle tool calls with proper error handling" time="0.109">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Client Type Simulation should handle Claude Desktop simulation" name="SSE Connection Establishment and MCP Handshake Testing Client Type Simulation should handle Claude Desktop simulation" time="0.109">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Client Type Simulation should handle MCP Inspector simulation" name="SSE Connection Establishment and MCP Handshake Testing Client Type Simulation should handle MCP Inspector simulation" time="0.114">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Client Type Simulation should handle custom client simulation" name="SSE Connection Establishment and MCP Handshake Testing Client Type Simulation should handle custom client simulation" time="0.108">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Connection State Management should track connection lifecycle properly" name="SSE Connection Establishment and MCP Handshake Testing Connection State Management should track connection lifecycle properly" time="0.318">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Connection State Management should handle abrupt connection termination" name="SSE Connection Establishment and MCP Handshake Testing Connection State Management should handle abrupt connection termination" time="0.616">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Performance and Reliability should establish connections within performance benchmarks" name="SSE Connection Establishment and MCP Handshake Testing Performance and Reliability should establish connections within performance benchmarks" time="0.111">
    </testcase>
    <testcase classname="SSE Connection Establishment and MCP Handshake Testing Performance and Reliability should handle rapid connection cycling" name="SSE Connection Establishment and MCP Handshake Testing Performance and Reliability should handle rapid connection cycling" time="0.129">
    </testcase>
  </testsuite>
  <testsuite name="MCP Capability Negotiation" errors="0" failures="7" skipped="0" timestamp="2025-06-13T13:21:30" time="15.427" tests="12">
    <testcase classname="MCP Capability Negotiation Protocol Version Negotiation should accept matching protocol version" name="MCP Capability Negotiation Protocol Version Negotiation should accept matching protocol version" time="0.005">
    </testcase>
    <testcase classname="MCP Capability Negotiation Protocol Version Negotiation should reject unsupported protocol version" name="MCP Capability Negotiation Protocol Version Negotiation should reject unsupported protocol version" time="0.003">
      <failure>Error: expect(received).toBeDefined()

Received: undefined
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:199:30)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
    </testcase>
    <testcase classname="MCP Capability Negotiation Protocol Version Negotiation should handle missing protocol version" name="MCP Capability Negotiation Protocol Version Negotiation should handle missing protocol version" time="0.005">
      <failure>Error: expect(received).toBeDefined()

Received: undefined
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:216:30)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
    </testcase>
    <testcase classname="MCP Capability Negotiation Capability Discovery should advertise supported capabilities in SSE connection" name="MCP Capability Negotiation Capability Discovery should advertise supported capabilities in SSE connection" time="5.016">
      <failure>Error: Timeout waiting for event connection
    at Timeout._onTimeout (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:101:16)
    at listOnTimeout (node:internal/timers:581:17)
    at processTimers (node:internal/timers:519:7)</failure>
    </testcase>
    <testcase classname="MCP Capability Negotiation Capability Discovery should include full capability details in initialization response" name="MCP Capability Negotiation Capability Discovery should include full capability details in initialization response" time="0.003">
    </testcase>
    <testcase classname="MCP Capability Negotiation Capability Negotiation should handle client requesting unsupported capability" name="MCP Capability Negotiation Capability Negotiation should handle client requesting unsupported capability" time="0.002">
    </testcase>
    <testcase classname="MCP Capability Negotiation Capability Negotiation should respect client capability preferences" name="MCP Capability Negotiation Capability Negotiation should respect client capability preferences" time="0.004">
    </testcase>
    <testcase classname="MCP Capability Negotiation Capability Negotiation should handle missing client capabilities gracefully" name="MCP Capability Negotiation Capability Negotiation should handle missing client capabilities gracefully" time="0.003">
    </testcase>
    <testcase classname="MCP Capability Negotiation Capability Updates should notify clients when tool list changes" name="MCP Capability Negotiation Capability Updates should notify clients when tool list changes" time="5.019">
      <failure>Error: Unhandled error. (Error: SSE connection error
    at EventSource.eventSource.onerror (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:55:23)
    at EventSource.emit (node:events:524:28)
    at _emit (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:287:17)
    at onConnectionClosed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:58:5)
    at IncomingMessage.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:187:9)
    at IncomingMessage.emit (node:events:536:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at processTicksAndRejections (node:internal/process/task_queues:82:21) {
  event: Event { type: &apos;error&apos;, message: undefined }
})
    at EventEmitter.emit (node:events:513:17)
    at EventSource.eventSource.onerror (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:58:27)
    at EventSource.emit (node:events:524:28)
    at _emit (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:287:17)
    at onConnectionClosed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:58:5)
    at IncomingMessage.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:187:9)
    at IncomingMessage.emit (node:events:536:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at processTicksAndRejections (node:internal/process/task_queues:82:21)</failure>
      <failure>Error: Timeout waiting for event mcp-response
    at Timeout._onTimeout (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:101:16)
    at listOnTimeout (node:internal/timers:581:17)
    at processTimers (node:internal/timers:519:7)</failure>
    </testcase>
    <testcase classname="MCP Capability Negotiation Capability Updates should maintain capability state across reconnections" name="MCP Capability Negotiation Capability Updates should maintain capability state across reconnections" time="5.019">
      <failure>Error: Unhandled error. (Error: SSE connection error
    at EventSource.eventSource.onerror (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:55:23)
    at EventSource.emit (node:events:524:28)
    at _emit (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:287:17)
    at onConnectionClosed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:58:5)
    at IncomingMessage.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:187:9)
    at IncomingMessage.emit (node:events:536:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at processTicksAndRejections (node:internal/process/task_queues:82:21) {
  event: Event { type: &apos;error&apos;, message: undefined }
})
    at EventEmitter.emit (node:events:513:17)
    at EventSource.eventSource.onerror (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:58:27)
    at EventSource.emit (node:events:524:28)
    at _emit (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:287:17)
    at onConnectionClosed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:58:5)
    at IncomingMessage.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:187:9)
    at IncomingMessage.emit (node:events:536:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at processTicksAndRejections (node:internal/process/task_queues:82:21)</failure>
      <failure>Error: Timeout waiting for event connection
    at Timeout._onTimeout (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:101:16)
    at listOnTimeout (node:internal/timers:581:17)
    at processTimers (node:internal/timers:519:7)</failure>
    </testcase>
    <testcase classname="MCP Capability Negotiation Error Handling should handle malformed capability objects" name="MCP Capability Negotiation Error Handling should handle malformed capability objects" time="0.002">
      <failure>Error: expect(received).toBeDefined()

Received: undefined
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:388:30)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
    </testcase>
    <testcase classname="MCP Capability Negotiation Error Handling should handle invalid capability values" name="MCP Capability Negotiation Error Handling should handle invalid capability values" time="0.003">
      <failure>Error: expect(received).toBeDefined()

Received: undefined
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:410:30)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
    </testcase>
    <testcase classname=" Test execution failure: could be caused by test hooks like &apos;afterAll&apos;." name=" Test execution failure: could be caused by test hooks like &apos;afterAll&apos;." time="0">
      <failure>{&quot;message&quot;:&quot;&quot;,&quot;stack&quot;:&quot;Error: Unhandled error. (Error: SSE connection error\n    at EventSource.eventSource.onerror (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:55:23)\n    at EventSource.emit (node:events:524:28)\n    at _emit (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:287:17)\n    at onConnectionClosed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:58:5)\n    at IncomingMessage.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:187:9)\n    at IncomingMessage.emit (node:events:536:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21) {\n  event: Event { type: &apos;error&apos;, message: undefined }\n})\n    at EventEmitter.emit (node:events:513:17)\n    at EventSource.eventSource.onerror (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/capability-negotiation.test.ts:58:27)\n    at EventSource.emit (node:events:524:28)\n    at _emit (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:287:17)\n    at onConnectionClosed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:58:5)\n    at IncomingMessage.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:187:9)\n    at IncomingMessage.emit (node:events:536:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)&quot;}</failure>
    </testcase>
  </testsuite>
  <testsuite name="Message Delivery and Formatting Verification" errors="0" failures="3" skipped="0" timestamp="2025-06-13T13:21:45" time="3.645" tests="14">
    <testcase classname="Message Delivery and Formatting Verification SSE Message Format Validation should establish SSE connection successfully" name="Message Delivery and Formatting Verification SSE Message Format Validation should establish SSE connection successfully" time="0.622">
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification SSE Message Format Validation should format MCP response messages correctly" name="Message Delivery and Formatting Verification SSE Message Format Validation should format MCP response messages correctly" time="0.111">
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification SSE Message Format Validation should handle various MCP method calls" name="Message Delivery and Formatting Verification SSE Message Format Validation should handle various MCP method calls" time="0.111">
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification SSE Message Format Validation should format error messages properly" name="Message Delivery and Formatting Verification SSE Message Format Validation should format error messages properly" time="0.11">
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification Message Timing and Delivery should deliver messages within acceptable timeframe" name="Message Delivery and Formatting Verification Message Timing and Delivery should deliver messages within acceptable timeframe" time="0.11">
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification Message Timing and Delivery should maintain message order for sequential requests" name="Message Delivery and Formatting Verification Message Timing and Delivery should maintain message order for sequential requests" time="0.315">
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification Message Timing and Delivery should handle concurrent message delivery" name="Message Delivery and Formatting Verification Message Timing and Delivery should handle concurrent message delivery" time="0.11">
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification Connection Stability should maintain connection stability over time" name="Message Delivery and Formatting Verification Connection Stability should maintain connection stability over time" time="1.114">
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification Error Handling and Edge Cases should handle malformed JSON in requests gracefully" name="Message Delivery and Formatting Verification Error Handling and Edge Cases should handle malformed JSON in requests gracefully" time="0.121">
      <failure>Error: SSE connection error
    at EventSource.eventSource.onerror (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/message-delivery-formatting.test.ts:56:23)
    at EventSource.emit (node:events:524:28)
    at _emit (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:287:17)
    at ClientRequest.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:173:9)
    at Object.onceWrapper (node:events:639:26)
    at ClientRequest.emit (node:events:524:28)
    at HTTPParser.parserOnIncomingClient (node:_http_client:702:27)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)
    at Socket.socketOnData (node:_http_client:544:22)
    at Socket.emit (node:events:524:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Socket.Readable.push (node:internal/streams/readable:392:5)
    at TCP.onStreamRead (node:internal/stream_base_commons:191:23)</failure>
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification Error Handling and Edge Cases should handle malformed JSON in responses" name="Message Delivery and Formatting Verification Error Handling and Edge Cases should handle malformed JSON in responses" time="0.114">
      <failure>Error: SSE connection error
    at EventSource.eventSource.onerror (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/message-delivery-formatting.test.ts:56:23)
    at EventSource.emit (node:events:524:28)
    at _emit (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:287:17)
    at ClientRequest.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/node_modules/eventsource/lib/eventsource.js:173:9)
    at Object.onceWrapper (node:events:639:26)
    at ClientRequest.emit (node:events:524:28)
    at HTTPParser.parserOnIncomingClient (node:_http_client:702:27)
    at HTTPParser.parserOnHeadersComplete (node:_http_common:118:17)
    at Socket.socketOnData (node:_http_client:544:22)
    at Socket.emit (node:events:524:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Socket.Readable.push (node:internal/streams/readable:392:5)
    at TCP.onStreamRead (node:internal/stream_base_commons:191:23)</failure>
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification Error Handling and Edge Cases should handle requests without required fields" name="Message Delivery and Formatting Verification Error Handling and Edge Cases should handle requests without required fields" time="0.116">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: 400
Received: undefined
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/message-delivery-formatting.test.ts:455:40)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification Error Handling and Edge Cases should handle non-existent methods" name="Message Delivery and Formatting Verification Error Handling and Edge Cases should handle non-existent methods" time="0.116">
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification Message Content Validation should handle special characters and encoding" name="Message Delivery and Formatting Verification Message Content Validation should handle special characters and encoding" time="0.111">
    </testcase>
    <testcase classname="Message Delivery and Formatting Verification Message Content Validation should validate JSON-RPC message structure compliance" name="Message Delivery and Formatting Verification Message Content Validation should validate JSON-RPC message structure compliance" time="0.111">
    </testcase>
  </testsuite>
  <testsuite name="TallyApiClient" errors="0" failures="4" skipped="0" timestamp="2025-06-13T13:21:49" time="0.639" tests="30">
    <testcase classname="TallyApiClient Constructor and Configuration should create a client with default configuration" name="TallyApiClient Constructor and Configuration should create a client with default configuration" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Constructor and Configuration should create a client with custom configuration" name="TallyApiClient Constructor and Configuration should create a client with custom configuration" time="0">
    </testcase>
    <testcase classname="TallyApiClient Constructor and Configuration should not set Authorization header if no access token is provided" name="TallyApiClient Constructor and Configuration should not set Authorization header if no access token is provided" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Access Token Management should set access token and update Authorization header" name="TallyApiClient Access Token Management should set access token and update Authorization header" time="0.003">
    </testcase>
    <testcase classname="TallyApiClient Access Token Management should remove Authorization header when setting empty token" name="TallyApiClient Access Token Management should remove Authorization header when setting empty token" time="0">
    </testcase>
    <testcase classname="TallyApiClient Access Token Management should return current access token" name="TallyApiClient Access Token Management should return current access token" time="0">
    </testcase>
    <testcase classname="TallyApiClient HTTP Methods should make a GET request" name="TallyApiClient HTTP Methods should make a GET request" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient HTTP Methods should make a GET request with custom config" name="TallyApiClient HTTP Methods should make a GET request with custom config" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient HTTP Methods should make a POST request with data" name="TallyApiClient HTTP Methods should make a POST request with data" time="0">
    </testcase>
    <testcase classname="TallyApiClient HTTP Methods should make a PUT request with data" name="TallyApiClient HTTP Methods should make a PUT request with data" time="0">
    </testcase>
    <testcase classname="TallyApiClient HTTP Methods should make a DELETE request" name="TallyApiClient HTTP Methods should make a DELETE request" time="0">
    </testcase>
    <testcase classname="TallyApiClient HTTP Methods should make a PATCH request with data" name="TallyApiClient HTTP Methods should make a PATCH request with data" time="0">
    </testcase>
    <testcase classname="TallyApiClient Error Handling should propagate axios errors" name="TallyApiClient Error Handling should propagate axios errors" time="0.009">
    </testcase>
    <testcase classname="TallyApiClient Error Handling should propagate HTTP error responses" name="TallyApiClient Error Handling should propagate HTTP error responses" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Utility Methods should return the axios instance" name="TallyApiClient Utility Methods should return the axios instance" time="0.002">
    </testcase>
    <testcase classname="TallyApiClient Utility Methods should return readonly configuration" name="TallyApiClient Utility Methods should return readonly configuration" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Interceptors should always setup interceptors for authentication and error handling" name="TallyApiClient Interceptors should always setup interceptors for authentication and error handling" time="0">
    </testcase>
    <testcase classname="TallyApiClient Interceptors should setup interceptors with debug logging when debug is enabled" name="TallyApiClient Interceptors should setup interceptors with debug logging when debug is enabled" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Type Safety should maintain type safety with generic responses" name="TallyApiClient Type Safety should maintain type safety with generic responses" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Rate Limiting and Retry Logic should have retry configuration set correctly" name="TallyApiClient Rate Limiting and Retry Logic should have retry configuration set correctly" time="0">
    </testcase>
    <testcase classname="TallyApiClient Rate Limiting and Retry Logic should setup interceptors for retry logic" name="TallyApiClient Rate Limiting and Retry Logic should setup interceptors for retry logic" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Rate Limiting and Retry Logic should handle custom retry configuration" name="TallyApiClient Rate Limiting and Retry Logic should handle custom retry configuration" time="0">
    </testcase>
    <testcase classname="TallyApiClient Type-Safe API Methods with Zod Validation getSubmissions should validate and return submissions response" name="TallyApiClient Type-Safe API Methods with Zod Validation getSubmissions should validate and return submissions response" time="0.114">
      <failure>Error: expect(received).toEqual(expected) // deep equality

- Expected  -   7
+ Received  + 204

@@ -3,24 +3,221 @@
    &quot;limit&quot;: 10,
    &quot;page&quot;: 1,
    &quot;questions&quot;: Array [],
    &quot;submissions&quot;: Array [
      Object {
-       &quot;formId&quot;: &quot;form_123&quot;,
-       &quot;id&quot;: &quot;sub_1&quot;,
+       &quot;formId&quot;: &quot;form_123456789&quot;,
+       &quot;id&quot;: &quot;sub_000000001&quot;,
+       &quot;isCompleted&quot;: true,
+       &quot;respondentId&quot;: &quot;resp_000000001&quot;,
+       &quot;responses&quot;: Array [
+         Object {
+           &quot;questionId&quot;: &quot;q1&quot;,
+           &quot;value&quot;: &quot;User 1&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q2&quot;,
+           &quot;value&quot;: &quot;user1@example.com&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q3&quot;,
+           &quot;value&quot;: &quot;This is message 1 from a test user.&quot;,
+         },
+       ],
+       &quot;submittedAt&quot;: &quot;2025-06-12T13:21:49.720Z&quot;,
+     },
+     Object {
+       &quot;formId&quot;: &quot;form_123456789&quot;,
+       &quot;id&quot;: &quot;sub_000000002&quot;,
+       &quot;isCompleted&quot;: true,
+       &quot;respondentId&quot;: &quot;resp_000000002&quot;,
+       &quot;responses&quot;: Array [
+         Object {
+           &quot;questionId&quot;: &quot;q1&quot;,
+           &quot;value&quot;: &quot;User 2&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q2&quot;,
+           &quot;value&quot;: &quot;user2@example.com&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q3&quot;,
+           &quot;value&quot;: &quot;This is message 2 from a test user.&quot;,
+         },
+       ],
+       &quot;submittedAt&quot;: &quot;2025-06-11T13:21:49.720Z&quot;,
+     },
+     Object {
+       &quot;formId&quot;: &quot;form_123456789&quot;,
+       &quot;id&quot;: &quot;sub_000000003&quot;,
+       &quot;isCompleted&quot;: true,
+       &quot;respondentId&quot;: &quot;resp_000000003&quot;,
+       &quot;responses&quot;: Array [
+         Object {
+           &quot;questionId&quot;: &quot;q1&quot;,
+           &quot;value&quot;: &quot;User 3&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q2&quot;,
+           &quot;value&quot;: &quot;user3@example.com&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q3&quot;,
+           &quot;value&quot;: &quot;This is message 3 from a test user.&quot;,
+         },
+       ],
+       &quot;submittedAt&quot;: &quot;2025-06-10T13:21:49.720Z&quot;,
+     },
+     Object {
+       &quot;formId&quot;: &quot;form_123456789&quot;,
+       &quot;id&quot;: &quot;sub_000000004&quot;,
+       &quot;isCompleted&quot;: true,
+       &quot;respondentId&quot;: &quot;resp_000000004&quot;,
+       &quot;responses&quot;: Array [
+         Object {
+           &quot;questionId&quot;: &quot;q1&quot;,
+           &quot;value&quot;: &quot;User 4&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q2&quot;,
+           &quot;value&quot;: &quot;user4@example.com&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q3&quot;,
+           &quot;value&quot;: &quot;This is message 4 from a test user.&quot;,
+         },
+       ],
+       &quot;submittedAt&quot;: &quot;2025-06-09T13:21:49.720Z&quot;,
+     },
+     Object {
+       &quot;formId&quot;: &quot;form_123456789&quot;,
+       &quot;id&quot;: &quot;sub_000000005&quot;,
+       &quot;isCompleted&quot;: true,
+       &quot;respondentId&quot;: &quot;resp_000000005&quot;,
+       &quot;responses&quot;: Array [
+         Object {
+           &quot;questionId&quot;: &quot;q1&quot;,
+           &quot;value&quot;: &quot;User 5&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q2&quot;,
+           &quot;value&quot;: &quot;user5@example.com&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q3&quot;,
+           &quot;value&quot;: &quot;This is message 5 from a test user.&quot;,
+         },
+       ],
+       &quot;submittedAt&quot;: &quot;2025-06-08T13:21:49.720Z&quot;,
+     },
+     Object {
+       &quot;formId&quot;: &quot;form_123456789&quot;,
+       &quot;id&quot;: &quot;sub_000000006&quot;,
+       &quot;isCompleted&quot;: true,
+       &quot;respondentId&quot;: &quot;resp_000000006&quot;,
+       &quot;responses&quot;: Array [
+         Object {
+           &quot;questionId&quot;: &quot;q1&quot;,
+           &quot;value&quot;: &quot;User 6&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q2&quot;,
+           &quot;value&quot;: &quot;user6@example.com&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q3&quot;,
+           &quot;value&quot;: &quot;This is message 6 from a test user.&quot;,
+         },
+       ],
+       &quot;submittedAt&quot;: &quot;2025-06-07T13:21:49.720Z&quot;,
+     },
+     Object {
+       &quot;formId&quot;: &quot;form_123456789&quot;,
+       &quot;id&quot;: &quot;sub_000000007&quot;,
+       &quot;isCompleted&quot;: true,
+       &quot;respondentId&quot;: &quot;resp_000000007&quot;,
+       &quot;responses&quot;: Array [
+         Object {
+           &quot;questionId&quot;: &quot;q1&quot;,
+           &quot;value&quot;: &quot;User 7&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q2&quot;,
+           &quot;value&quot;: &quot;user7@example.com&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q3&quot;,
+           &quot;value&quot;: &quot;This is message 7 from a test user.&quot;,
+         },
+       ],
+       &quot;submittedAt&quot;: &quot;2025-06-06T13:21:49.720Z&quot;,
+     },
+     Object {
+       &quot;formId&quot;: &quot;form_123456789&quot;,
+       &quot;id&quot;: &quot;sub_000000008&quot;,
+       &quot;isCompleted&quot;: true,
+       &quot;respondentId&quot;: &quot;resp_000000008&quot;,
+       &quot;responses&quot;: Array [
+         Object {
+           &quot;questionId&quot;: &quot;q1&quot;,
+           &quot;value&quot;: &quot;User 8&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q2&quot;,
+           &quot;value&quot;: &quot;user8@example.com&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q3&quot;,
+           &quot;value&quot;: &quot;This is message 8 from a test user.&quot;,
+         },
+       ],
+       &quot;submittedAt&quot;: &quot;2025-06-05T13:21:49.720Z&quot;,
+     },
+     Object {
+       &quot;formId&quot;: &quot;form_123456789&quot;,
+       &quot;id&quot;: &quot;sub_000000009&quot;,
        &quot;isCompleted&quot;: true,
-       &quot;respondentId&quot;: &quot;resp_1&quot;,
+       &quot;respondentId&quot;: &quot;resp_000000009&quot;,
        &quot;responses&quot;: Array [
          Object {
            &quot;questionId&quot;: &quot;q1&quot;,
-           &quot;value&quot;: &quot;Test User&quot;,
+           &quot;value&quot;: &quot;User 9&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q2&quot;,
+           &quot;value&quot;: &quot;user9@example.com&quot;,
          },
+         Object {
+           &quot;questionId&quot;: &quot;q3&quot;,
+           &quot;value&quot;: &quot;This is message 9 from a test user.&quot;,
+         },
        ],
-       &quot;submittedAt&quot;: &quot;2025-06-13T13:21:49.612Z&quot;,
+       &quot;submittedAt&quot;: &quot;2025-06-04T13:21:49.720Z&quot;,
      },
+     Object {
+       &quot;formId&quot;: &quot;form_123456789&quot;,
+       &quot;id&quot;: &quot;sub_000000010&quot;,
+       &quot;isCompleted&quot;: true,
+       &quot;respondentId&quot;: &quot;resp_000000010&quot;,
+       &quot;responses&quot;: Array [
+         Object {
+           &quot;questionId&quot;: &quot;q1&quot;,
+           &quot;value&quot;: &quot;User 10&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q2&quot;,
+           &quot;value&quot;: &quot;user10@example.com&quot;,
+         },
+         Object {
+           &quot;questionId&quot;: &quot;q3&quot;,
+           &quot;value&quot;: &quot;This is message 10 from a test user.&quot;,
+         },
+       ],
+       &quot;submittedAt&quot;: &quot;2025-06-03T13:21:49.720Z&quot;,
+     },
    ],
    &quot;totalNumberOfSubmissionsPerFilter&quot;: Object {
-     &quot;all&quot;: 1,
-     &quot;completed&quot;: 1,
+     &quot;all&quot;: 10,
+     &quot;completed&quot;: 10,
      &quot;partial&quot;: 0,
    },
  }
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/TallyApiClient.test.ts:481:24)</failure>
    </testcase>
    <testcase classname="TallyApiClient Type-Safe API Methods with Zod Validation getSubmissions should throw validation error for invalid submissions response" name="TallyApiClient Type-Safe API Methods with Zod Validation getSubmissions should throw validation error for invalid submissions response" time="0.103">
      <failure>Error: expect(received).rejects.toThrow()

Received promise resolved instead of rejected
Resolved to value: {&quot;hasMore&quot;: false, &quot;limit&quot;: 10, &quot;page&quot;: 1, &quot;questions&quot;: [], &quot;submissions&quot;: [{&quot;formId&quot;: &quot;form_123456789&quot;, &quot;id&quot;: &quot;sub_000000001&quot;, &quot;isCompleted&quot;: true, &quot;respondentId&quot;: &quot;resp_000000001&quot;, &quot;responses&quot;: [{&quot;questionId&quot;: &quot;q1&quot;, &quot;value&quot;: &quot;User 1&quot;}, {&quot;questionId&quot;: &quot;q2&quot;, &quot;value&quot;: &quot;user1@example.com&quot;}, {&quot;questionId&quot;: &quot;q3&quot;, &quot;value&quot;: &quot;This is message 1 from a test user.&quot;}], &quot;submittedAt&quot;: &quot;2025-06-12T13:21:49.828Z&quot;}, {&quot;formId&quot;: &quot;form_123456789&quot;, &quot;id&quot;: &quot;sub_000000002&quot;, &quot;isCompleted&quot;: true, &quot;respondentId&quot;: &quot;resp_000000002&quot;, &quot;responses&quot;: [{&quot;questionId&quot;: &quot;q1&quot;, &quot;value&quot;: &quot;User 2&quot;}, {&quot;questionId&quot;: &quot;q2&quot;, &quot;value&quot;: &quot;user2@example.com&quot;}, {&quot;questionId&quot;: &quot;q3&quot;, &quot;value&quot;: &quot;This is message 2 from a test user.&quot;}], &quot;submittedAt&quot;: &quot;2025-06-11T13:21:49.828Z&quot;}, {&quot;formId&quot;: &quot;form_123456789&quot;, &quot;id&quot;: &quot;sub_000000003&quot;, &quot;isCompleted&quot;: true, &quot;respondentId&quot;: &quot;resp_000000003&quot;, &quot;responses&quot;: [{&quot;questionId&quot;: &quot;q1&quot;, &quot;value&quot;: &quot;User 3&quot;}, {&quot;questionId&quot;: &quot;q2&quot;, &quot;value&quot;: &quot;user3@example.com&quot;}, {&quot;questionId&quot;: &quot;q3&quot;, &quot;value&quot;: &quot;This is message 3 from a test user.&quot;}], &quot;submittedAt&quot;: &quot;2025-06-10T13:21:49.828Z&quot;}, {&quot;formId&quot;: &quot;form_123456789&quot;, &quot;id&quot;: &quot;sub_000000004&quot;, &quot;isCompleted&quot;: true, &quot;respondentId&quot;: &quot;resp_000000004&quot;, &quot;responses&quot;: [{&quot;questionId&quot;: &quot;q1&quot;, &quot;value&quot;: &quot;User 4&quot;}, {&quot;questionId&quot;: &quot;q2&quot;, &quot;value&quot;: &quot;user4@example.com&quot;}, {&quot;questionId&quot;: &quot;q3&quot;, &quot;value&quot;: &quot;This is message 4 from a test user.&quot;}], &quot;submittedAt&quot;: &quot;2025-06-09T13:21:49.828Z&quot;}, {&quot;formId&quot;: &quot;form_123456789&quot;, &quot;id&quot;: &quot;sub_000000005&quot;, &quot;isCompleted&quot;: true, &quot;respondentId&quot;: &quot;resp_000000005&quot;, &quot;responses&quot;: [{&quot;questionId&quot;: &quot;q1&quot;, &quot;value&quot;: &quot;User 5&quot;}, {&quot;questionId&quot;: &quot;q2&quot;, &quot;value&quot;: &quot;user5@example.com&quot;}, {&quot;questionId&quot;: &quot;q3&quot;, &quot;value&quot;: &quot;This is message 5 from a test user.&quot;}], &quot;submittedAt&quot;: &quot;2025-06-08T13:21:49.828Z&quot;}, {&quot;formId&quot;: &quot;form_123456789&quot;, &quot;id&quot;: &quot;sub_000000006&quot;, &quot;isCompleted&quot;: true, &quot;respondentId&quot;: &quot;resp_000000006&quot;, &quot;responses&quot;: [{&quot;questionId&quot;: &quot;q1&quot;, &quot;value&quot;: &quot;User 6&quot;}, {&quot;questionId&quot;: &quot;q2&quot;, &quot;value&quot;: &quot;user6@example.com&quot;}, {&quot;questionId&quot;: &quot;q3&quot;, &quot;value&quot;: &quot;This is message 6 from a test user.&quot;}], &quot;submittedAt&quot;: &quot;2025-06-07T13:21:49.828Z&quot;}, {&quot;formId&quot;: &quot;form_123456789&quot;, &quot;id&quot;: &quot;sub_000000007&quot;, &quot;isCompleted&quot;: true, &quot;respondentId&quot;: &quot;resp_000000007&quot;, &quot;responses&quot;: [{&quot;questionId&quot;: &quot;q1&quot;, &quot;value&quot;: &quot;User 7&quot;}, {&quot;questionId&quot;: &quot;q2&quot;, &quot;value&quot;: &quot;user7@example.com&quot;}, {&quot;questionId&quot;: &quot;q3&quot;, &quot;value&quot;: &quot;This is message 7 from a test user.&quot;}], &quot;submittedAt&quot;: &quot;2025-06-06T13:21:49.828Z&quot;}, {&quot;formId&quot;: &quot;form_123456789&quot;, &quot;id&quot;: &quot;sub_000000008&quot;, &quot;isCompleted&quot;: true, &quot;respondentId&quot;: &quot;resp_000000008&quot;, &quot;responses&quot;: [{&quot;questionId&quot;: &quot;q1&quot;, &quot;value&quot;: &quot;User 8&quot;}, {&quot;questionId&quot;: &quot;q2&quot;, &quot;value&quot;: &quot;user8@example.com&quot;}, {&quot;questionId&quot;: &quot;q3&quot;, &quot;value&quot;: &quot;This is message 8 from a test user.&quot;}], &quot;submittedAt&quot;: &quot;2025-06-05T13:21:49.828Z&quot;}, {&quot;formId&quot;: &quot;form_123456789&quot;, &quot;id&quot;: &quot;sub_000000009&quot;, &quot;isCompleted&quot;: true, &quot;respondentId&quot;: &quot;resp_000000009&quot;, &quot;responses&quot;: [{&quot;questionId&quot;: &quot;q1&quot;, &quot;value&quot;: &quot;User 9&quot;}, {&quot;questionId&quot;: &quot;q2&quot;, &quot;value&quot;: &quot;user9@example.com&quot;}, {&quot;questionId&quot;: &quot;q3&quot;, &quot;value&quot;: &quot;This is message 9 from a test user.&quot;}], &quot;submittedAt&quot;: &quot;2025-06-04T13:21:49.828Z&quot;}, {&quot;formId&quot;: &quot;form_123456789&quot;, &quot;id&quot;: &quot;sub_000000010&quot;, &quot;isCompleted&quot;: true, &quot;respondentId&quot;: &quot;resp_000000010&quot;, &quot;responses&quot;: [{&quot;questionId&quot;: &quot;q1&quot;, &quot;value&quot;: &quot;User 10&quot;}, {&quot;questionId&quot;: &quot;q2&quot;, &quot;value&quot;: &quot;user10@example.com&quot;}, {&quot;questionId&quot;: &quot;q3&quot;, &quot;value&quot;: &quot;This is message 10 from a test user.&quot;}], &quot;submittedAt&quot;: &quot;2025-06-03T13:21:49.828Z&quot;}], &quot;totalNumberOfSubmissionsPerFilter&quot;: {&quot;all&quot;: 10, &quot;completed&quot;: 10, &quot;partial&quot;: 0}}
    at expect (/Users/cryophobic/dev/projects/tally-mcp/node_modules/expect/build/index.js:113:15)
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/TallyApiClient.test.ts:504:15)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="TallyApiClient Type-Safe API Methods with Zod Validation getForm should validate and return form data" name="TallyApiClient Type-Safe API Methods with Zod Validation getForm should validate and return form data" time="0.106">
      <failure>Error: expect(received).toEqual(expected) // deep equality

- Expected  - 2
+ Received  + 2

  Object {
-   &quot;createdAt&quot;: &quot;2025-06-13T13:21:49.830Z&quot;,
+   &quot;createdAt&quot;: &quot;2024-01-01T00:00:00Z&quot;,
    &quot;description&quot;: &quot;Get in touch with our team&quot;,
    &quot;embedUrl&quot;: &quot;https://tally.so/embed/form_123456789&quot;,
    &quot;id&quot;: &quot;form123&quot;,
    &quot;isPublished&quot;: true,
    &quot;status&quot;: &quot;published&quot;,
    &quot;submissionsCount&quot;: 42,
    &quot;title&quot;: &quot;Contact Us&quot;,
-   &quot;updatedAt&quot;: &quot;2025-06-13T13:21:49.830Z&quot;,
+   &quot;updatedAt&quot;: &quot;2024-01-01T00:00:00Z&quot;,
    &quot;url&quot;: &quot;https://tally.so/r/form_123456789&quot;,
  }
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/TallyApiClient.test.ts:539:24)</failure>
    </testcase>
    <testcase classname="TallyApiClient Type-Safe API Methods with Zod Validation getForm should throw validation error for invalid form response" name="TallyApiClient Type-Safe API Methods with Zod Validation getForm should throw validation error for invalid form response" time="0.103">
      <failure>Error: expect(received).rejects.toThrow()

Received promise resolved instead of rejected
Resolved to value: {&quot;createdAt&quot;: &quot;2024-01-01T00:00:00Z&quot;, &quot;description&quot;: &quot;Get in touch with our team&quot;, &quot;embedUrl&quot;: &quot;https://tally.so/embed/form_123456789&quot;, &quot;id&quot;: &quot;form123&quot;, &quot;isPublished&quot;: true, &quot;status&quot;: &quot;published&quot;, &quot;submissionsCount&quot;: 42, &quot;title&quot;: &quot;Contact Us&quot;, &quot;updatedAt&quot;: &quot;2024-01-01T00:00:00Z&quot;, &quot;url&quot;: &quot;https://tally.so/r/form_123456789&quot;}
    at expect (/Users/cryophobic/dev/projects/tally-mcp/node_modules/expect/build/index.js:113:15)
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/TallyApiClient.test.ts:562:15)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="TallyApiClient Type-Safe API Methods with Zod Validation validateResponse should return success result for valid data" name="TallyApiClient Type-Safe API Methods with Zod Validation validateResponse should return success result for valid data" time="0.003">
    </testcase>
    <testcase classname="TallyApiClient Type-Safe API Methods with Zod Validation validateResponse should return error result for invalid data" name="TallyApiClient Type-Safe API Methods with Zod Validation validateResponse should return error result for invalid data" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Type-Safe API Methods with Zod Validation requestWithValidation should make request and validate response with schema" name="TallyApiClient Type-Safe API Methods with Zod Validation requestWithValidation should make request and validate response with schema" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Type-Safe API Methods with Zod Validation requestWithValidation should throw validation error for invalid response data" name="TallyApiClient Type-Safe API Methods with Zod Validation requestWithValidation should throw validation error for invalid response data" time="0.016">
    </testcase>
  </testsuite>
  <testsuite name="Health Check Endpoint and Monitoring" errors="0" failures="1" skipped="0" timestamp="2025-06-13T13:21:50" time="0.414" tests="12">
    <testcase classname="Health Check Endpoint and Monitoring Health Metrics Collection should collect comprehensive health metrics" name="Health Check Endpoint and Monitoring Health Metrics Collection should collect comprehensive health metrics" time="0.007">
    </testcase>
    <testcase classname="Health Check Endpoint and Monitoring Health Metrics Collection should track uptime correctly" name="Health Check Endpoint and Monitoring Health Metrics Collection should track uptime correctly" time="0.101">
    </testcase>
    <testcase classname="Health Check Endpoint and Monitoring Health Metrics Collection should report healthy status for running server" name="Health Check Endpoint and Monitoring Health Metrics Collection should report healthy status for running server" time="0.002">
    </testcase>
    <testcase classname="Health Check Endpoint and Monitoring Health Check Endpoint should respond to /health endpoint with comprehensive metrics" name="Health Check Endpoint and Monitoring Health Check Endpoint should respond to /health endpoint with comprehensive metrics" time="0.003">
    </testcase>
    <testcase classname="Health Check Endpoint and Monitoring Health Check Endpoint should return 503 status when server is unhealthy" name="Health Check Endpoint and Monitoring Health Check Endpoint should return 503 status when server is unhealthy" time="0.002">
    </testcase>
    <testcase classname="Health Check Endpoint and Monitoring Health Check Endpoint should handle health check errors gracefully" name="Health Check Endpoint and Monitoring Health Check Endpoint should handle health check errors gracefully" time="0.002">
    </testcase>
    <testcase classname="Health Check Endpoint and Monitoring Request Statistics Tracking should track request counts" name="Health Check Endpoint and Monitoring Request Statistics Tracking should track request counts" time="0.003">
      <failure>Error: expect(received).toBeGreaterThan(expected)

Expected: &gt; 0
Received:   0
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/health-check.test.ts:191:45)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
    </testcase>
    <testcase classname="Health Check Endpoint and Monitoring Request Statistics Tracking should track error counts" name="Health Check Endpoint and Monitoring Request Statistics Tracking should track error counts" time="0.104">
    </testcase>
    <testcase classname="Health Check Endpoint and Monitoring Backward Compatibility should maintain basic info endpoint at /" name="Health Check Endpoint and Monitoring Backward Compatibility should maintain basic info endpoint at /" time="0.002">
    </testcase>
    <testcase classname="Health Check Endpoint and Monitoring System Resource Monitoring should provide valid memory statistics" name="Health Check Endpoint and Monitoring System Resource Monitoring should provide valid memory statistics" time="0.002">
    </testcase>
    <testcase classname="Health Check Endpoint and Monitoring System Resource Monitoring should provide valid CPU statistics" name="Health Check Endpoint and Monitoring System Resource Monitoring should provide valid CPU statistics" time="0.002">
    </testcase>
    <testcase classname="Health Check Endpoint and Monitoring System Resource Monitoring should provide valid system information" name="Health Check Endpoint and Monitoring System Resource Monitoring should provide valid system information" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="Security Middleware" errors="0" failures="4" skipped="0" timestamp="2025-06-13T13:21:50" time="0.376" tests="24">
    <testcase classname="Security Middleware CORS Configuration should handle preflight OPTIONS requests" name="Security Middleware CORS Configuration should handle preflight OPTIONS requests" time="0.019">
    </testcase>
    <testcase classname="Security Middleware CORS Configuration should allow GET requests with CORS headers" name="Security Middleware CORS Configuration should allow GET requests with CORS headers" time="0.018">
    </testcase>
    <testcase classname="Security Middleware CORS Configuration should expose rate limit headers" name="Security Middleware CORS Configuration should expose rate limit headers" time="0.004">
    </testcase>
    <testcase classname="Security Middleware CORS with Environment Configuration should allow requests from allowed origins" name="Security Middleware CORS with Environment Configuration should allow requests from allowed origins" time="0.005">
    </testcase>
    <testcase classname="Security Middleware CORS with Environment Configuration should reject requests from disallowed origins" name="Security Middleware CORS with Environment Configuration should reject requests from disallowed origins" time="0.004">
    </testcase>
    <testcase classname="Security Middleware Security Headers should set Content Security Policy header" name="Security Middleware Security Headers should set Content Security Policy header" time="0.006">
    </testcase>
    <testcase classname="Security Middleware Security Headers should set HSTS header" name="Security Middleware Security Headers should set HSTS header" time="0.004">
    </testcase>
    <testcase classname="Security Middleware Security Headers should set X-Content-Type-Options header" name="Security Middleware Security Headers should set X-Content-Type-Options header" time="0.005">
    </testcase>
    <testcase classname="Security Middleware Security Headers should set X-Frame-Options header" name="Security Middleware Security Headers should set X-Frame-Options header" time="0.006">
    </testcase>
    <testcase classname="Security Middleware Security Headers should remove X-Powered-By header" name="Security Middleware Security Headers should remove X-Powered-By header" time="0.004">
    </testcase>
    <testcase classname="Security Middleware Security Headers should set Referrer-Policy header" name="Security Middleware Security Headers should set Referrer-Policy header" time="0.004">
    </testcase>
    <testcase classname="Security Middleware Custom Security Middleware should set custom API version header" name="Security Middleware Custom Security Middleware should set custom API version header" time="0.006">
    </testcase>
    <testcase classname="Security Middleware Custom Security Middleware should set request ID header" name="Security Middleware Custom Security Middleware should set request ID header" time="0.004">
    </testcase>
    <testcase classname="Security Middleware Custom Security Middleware should set no-cache headers for non-GET API endpoints" name="Security Middleware Custom Security Middleware should set no-cache headers for non-GET API endpoints" time="0.004">
    </testcase>
    <testcase classname="Security Middleware Custom Security Middleware should add timing protection for auth endpoints" name="Security Middleware Custom Security Middleware should add timing protection for auth endpoints" time="0.051">
    </testcase>
    <testcase classname="Security Middleware Security Logger should log security information for requests" name="Security Middleware Security Logger should log security information for requests" time="0.005">
    </testcase>
    <testcase classname="Security Middleware Security Validation should allow normal requests" name="Security Middleware Security Validation should allow normal requests" time="0.005">
    </testcase>
    <testcase classname="Security Middleware Security Validation should block directory traversal attempts" name="Security Middleware Security Validation should block directory traversal attempts" time="0.005">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: 400
Received: 200
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/middleware/__tests__/security.test.ts:191:31)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
    </testcase>
    <testcase classname="Security Middleware Security Validation should block XSS attempts in URL" name="Security Middleware Security Validation should block XSS attempts in URL" time="0.004">
    </testcase>
    <testcase classname="Security Middleware Security Validation should reject negative Content-Length" name="Security Middleware Security Validation should reject negative Content-Length" time="0.004">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;INVALID_CONTENT_LENGTH&quot;
Received: undefined
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/middleware/__tests__/security.test.ts:207:34)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
    </testcase>
    <testcase classname="Security Middleware Security Validation should reject oversized payloads" name="Security Middleware Security Validation should reject oversized payloads" time="0.019">
    </testcase>
    <testcase classname="Security Middleware Security Validation should warn about invalid User-Agent headers" name="Security Middleware Security Validation should warn about invalid User-Agent headers" time="0.005">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;Security Warning: Missing or empty User-Agent header.&quot;

Number of calls: 0
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/middleware/__tests__/security.test.ts:219:30)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
    </testcase>
    <testcase classname="Security Middleware Security Validation should warn about oversized User-Agent headers" name="Security Middleware Security Validation should warn about oversized User-Agent headers" time="0.004">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;Security Warning: Oversized User-Agent header: 300 chars&quot;

Number of calls: 0
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/middleware/__tests__/security.test.ts:224:30)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)</failure>
    </testcase>
    <testcase classname="Security Middleware Complete Security Middleware Stack should block malicious requests even with full stack" name="Security Middleware Complete Security Middleware Stack should block malicious requests even with full stack" time="0.004">
    </testcase>
  </testsuite>
  <testsuite name="FormSharingTool" errors="0" failures="8" skipped="0" timestamp="2025-06-13T13:21:51" time="0.286" tests="37">
    <testcase classname="FormSharingTool constructor should create an instance with FormPublicationService" name="FormSharingTool constructor should create an instance with FormPublicationService" time="0.021">
    </testcase>
    <testcase classname="FormSharingTool publishForm should publish form successfully with minimal input" name="FormSharingTool publishForm should publish form successfully with minimal input" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool publishForm should publish form with all optional parameters" name="FormSharingTool publishForm should publish form with all optional parameters" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool publishForm should handle publication errors" name="FormSharingTool publishForm should handle publication errors" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool publishForm should handle unknown errors" name="FormSharingTool publishForm should handle unknown errors" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool publishForm should filter out undefined optional parameters" name="FormSharingTool publishForm should filter out undefined optional parameters" time="0.004">
    </testcase>
    <testcase classname="FormSharingTool unpublishForm should unpublish form successfully" name="FormSharingTool unpublishForm should unpublish form successfully" time="0.013">
    </testcase>
    <testcase classname="FormSharingTool unpublishForm should handle unpublish errors" name="FormSharingTool unpublishForm should handle unpublish errors" time="0.009">
    </testcase>
    <testcase classname="FormSharingTool getPublicationSettings should get publication settings successfully" name="FormSharingTool getPublicationSettings should get publication settings successfully" time="0.004">
    </testcase>
    <testcase classname="FormSharingTool getPublicationSettings should handle get settings errors" name="FormSharingTool getPublicationSettings should handle get settings errors" time="0.002">
    </testcase>
    <testcase classname="FormSharingTool updatePublicationSettings should update publication settings successfully" name="FormSharingTool updatePublicationSettings should update publication settings successfully" time="0.001">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

- Expected
+ Received

  &quot;form-123&quot;,
  Object {
-   &quot;maxSubmissions&quot;: 100,
    &quot;password&quot;: &quot;newpassword&quot;,
    &quot;visibility&quot;: &quot;private&quot;,
  },

Number of calls: 1
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/form-sharing-tool.test.ts:312:64)</failure>
    </testcase>
    <testcase classname="FormSharingTool updatePublicationSettings should filter out undefined values from settings" name="FormSharingTool updatePublicationSettings should filter out undefined values from settings" time="0.001">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

- Expected
+ Received

  &quot;form-123&quot;,
  Object {
-   &quot;maxSubmissions&quot;: 100,
    &quot;visibility&quot;: &quot;private&quot;,
  },

Number of calls: 1
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/form-sharing-tool.test.ts:338:64)</failure>
    </testcase>
    <testcase classname="FormSharingTool updatePublicationSettings should handle update settings errors" name="FormSharingTool updatePublicationSettings should handle update settings errors" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool generateEmbedCode should generate embed code successfully with minimal input" name="FormSharingTool generateEmbedCode should generate embed code successfully with minimal input" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool generateEmbedCode should generate embed code with all options" name="FormSharingTool generateEmbedCode should generate embed code with all options" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool generateEmbedCode should handle embed code generation errors" name="FormSharingTool generateEmbedCode should handle embed code generation errors" time="0">
    </testcase>
    <testcase classname="FormSharingTool generateShareLink should generate share link successfully" name="FormSharingTool generateShareLink should generate share link successfully" time="0.001">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;form-123&quot;, {&quot;customSlug&quot;: &quot;my-form&quot;, &quot;type&quot;: undefined}

Number of calls: 0
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/form-sharing-tool.test.ts:451:56)</failure>
    </testcase>
    <testcase classname="FormSharingTool generateShareLink should generate share link with security options" name="FormSharingTool generateShareLink should generate share link with security options" time="0.003">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;form-123&quot;, {&quot;expirationHours&quot;: 24, &quot;maxUses&quot;: 100, &quot;password&quot;: &quot;secret&quot;, &quot;trackingEnabled&quot;: true, &quot;type&quot;: undefined}

Number of calls: 0
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/form-sharing-tool.test.ts:480:56)</failure>
    </testcase>
    <testcase classname="FormSharingTool generateShareLink should handle share link generation errors" name="FormSharingTool generateShareLink should handle share link generation errors" time="0.002">
      <failure>Error: expect(received).toEqual(expected) // deep equality

- Expected  -  1
+ Received  + 11

  Object {
-   &quot;error&quot;: &quot;Link generation failed&quot;,
+   &quot;error&quot;: &quot;[
+   {
+     \&quot;expected\&quot;: \&quot;&apos;standard&apos; | &apos;embed&apos; | &apos;qr_code&apos; | &apos;social&apos;\&quot;,
+     \&quot;received\&quot;: \&quot;undefined\&quot;,
+     \&quot;code\&quot;: \&quot;invalid_type\&quot;,
+     \&quot;path\&quot;: [
+       \&quot;type\&quot;
+     ],
+     \&quot;message\&quot;: \&quot;Required\&quot;
+   }
+ ]&quot;,
    &quot;message&quot;: &quot;Failed to generate share link&quot;,
    &quot;success&quot;: false,
  }
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/form-sharing-tool.test.ts:500:22)</failure>
    </testcase>
    <testcase classname="FormSharingTool getShareLinks should get share links successfully" name="FormSharingTool getShareLinks should get share links successfully" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool getShareLinks should handle get share links errors" name="FormSharingTool getShareLinks should handle get share links errors" time="0">
    </testcase>
    <testcase classname="FormSharingTool deactivateShareLink should deactivate share link successfully" name="FormSharingTool deactivateShareLink should deactivate share link successfully" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool deactivateShareLink should handle deactivate share link errors" name="FormSharingTool deactivateShareLink should handle deactivate share link errors" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool getFormSharingStats should get sharing stats successfully" name="FormSharingTool getFormSharingStats should get sharing stats successfully" time="0">
    </testcase>
    <testcase classname="FormSharingTool getFormSharingStats should handle get sharing stats errors" name="FormSharingTool getFormSharingStats should handle get sharing stats errors" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool getFormAnalytics should get analytics with default period" name="FormSharingTool getFormAnalytics should get analytics with default period" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool getFormAnalytics should get analytics with custom period" name="FormSharingTool getFormAnalytics should get analytics with custom period" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool getFormAnalytics should handle get analytics errors" name="FormSharingTool getFormAnalytics should handle get analytics errors" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool performBulkOperation should perform bulk publish operation successfully" name="FormSharingTool performBulkOperation should perform bulk publish operation successfully" time="0.002">
    </testcase>
    <testcase classname="FormSharingTool performBulkOperation should perform bulk operation without settings" name="FormSharingTool performBulkOperation should perform bulk operation without settings" time="0.003">
    </testcase>
    <testcase classname="FormSharingTool performBulkOperation should handle bulk operation errors" name="FormSharingTool performBulkOperation should handle bulk operation errors" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool validateFormForPublication should validate form successfully when form can be published" name="FormSharingTool validateFormForPublication should validate form successfully when form can be published" time="0">
    </testcase>
    <testcase classname="FormSharingTool validateFormForPublication should validate form with validation issues" name="FormSharingTool validateFormForPublication should validate form with validation issues" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool validateFormForPublication should handle validation errors" name="FormSharingTool validateFormForPublication should handle validation errors" time="0.001">
    </testcase>
    <testcase classname="FormSharingTool edge cases and error handling should handle empty form IDs array in bulk operation" name="FormSharingTool edge cases and error handling should handle empty form IDs array in bulk operation" time="0">
      <failure>Error: expect(received).rejects.toThrow()

Received promise resolved instead of rejected
Resolved to value: {&quot;error&quot;: &quot;[
  {
    \&quot;code\&quot;: \&quot;too_small\&quot;,
    \&quot;minimum\&quot;: 1,
    \&quot;type\&quot;: \&quot;array\&quot;,
    \&quot;inclusive\&quot;: true,
    \&quot;exact\&quot;: false,
    \&quot;message\&quot;: \&quot;Array must contain at least 1 element(s)\&quot;,
    \&quot;path\&quot;: [
      \&quot;formIds\&quot;
    ]
  }
]&quot;, &quot;message&quot;: &quot;Failed to perform bulk operation&quot;, &quot;success&quot;: false}
    at expect (/Users/cryophobic/dev/projects/tally-mcp/node_modules/expect/build/index.js:113:15)
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/form-sharing-tool.test.ts:830:13)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="FormSharingTool edge cases and error handling should handle invalid email in notification emails" name="FormSharingTool edge cases and error handling should handle invalid email in notification emails" time="0">
      <failure>Error: expect(received).rejects.toThrow()

Received promise resolved instead of rejected
Resolved to value: {&quot;error&quot;: &quot;[
  {
    \&quot;validation\&quot;: \&quot;email\&quot;,
    \&quot;code\&quot;: \&quot;invalid_string\&quot;,
    \&quot;message\&quot;: \&quot;Invalid email\&quot;,
    \&quot;path\&quot;: [
      \&quot;notificationEmails\&quot;,
      0
    ]
  }
]&quot;, &quot;message&quot;: &quot;Failed to publish form&quot;, &quot;success&quot;: false}
    at expect (/Users/cryophobic/dev/projects/tally-mcp/node_modules/expect/build/index.js:113:15)
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/form-sharing-tool.test.ts:842:13)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="FormSharingTool edge cases and error handling should handle invalid datetime in publish date" name="FormSharingTool edge cases and error handling should handle invalid datetime in publish date" time="0.002">
      <failure>Error: expect(received).rejects.toThrow()

Received promise resolved instead of rejected
Resolved to value: {&quot;error&quot;: &quot;[
  {
    \&quot;code\&quot;: \&quot;invalid_string\&quot;,
    \&quot;validation\&quot;: \&quot;datetime\&quot;,
    \&quot;message\&quot;: \&quot;Invalid datetime\&quot;,
    \&quot;path\&quot;: [
      \&quot;publishDate\&quot;
    ]
  }
]&quot;, &quot;message&quot;: &quot;Failed to publish form&quot;, &quot;success&quot;: false}
    at expect (/Users/cryophobic/dev/projects/tally-mcp/node_modules/expect/build/index.js:113:15)
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/form-sharing-tool.test.ts:854:13)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
  </testsuite>
  <testsuite name="SchemaValidator" errors="0" failures="9" skipped="0" timestamp="2025-06-13T13:21:51" time="0.19" tests="43">
    <testcase classname="SchemaValidator constructor should create instance with default config" name="SchemaValidator constructor should create instance with default config" time="0">
    </testcase>
    <testcase classname="SchemaValidator constructor should create instance with custom config" name="SchemaValidator constructor should create instance with custom config" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator validateSchema should validate a simple valid schema" name="SchemaValidator validateSchema should validate a simple valid schema" time="0">
    </testcase>
    <testcase classname="SchemaValidator validateSchema should validate a complex valid object schema" name="SchemaValidator validateSchema should validate a complex valid object schema" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator validateSchema should validate array schema" name="SchemaValidator validateSchema should validate array schema" time="0">
    </testcase>
    <testcase classname="SchemaValidator validateSchema should return validation summary" name="SchemaValidator validateSchema should return validation summary" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator basic structure validation should error when type is missing in strict mode" name="SchemaValidator basic structure validation should error when type is missing in strict mode" time="0">
    </testcase>
    <testcase classname="SchemaValidator basic structure validation should not error when type is missing in non-strict mode" name="SchemaValidator basic structure validation should not error when type is missing in non-strict mode" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator basic structure validation should error for invalid schema type" name="SchemaValidator basic structure validation should error for invalid schema type" time="0">
    </testcase>
    <testcase classname="SchemaValidator basic structure validation should accept all valid JSON Schema types" name="SchemaValidator basic structure validation should accept all valid JSON Schema types" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator object schema validation should warn when object schema has no properties in strict mode" name="SchemaValidator object schema validation should warn when object schema has no properties in strict mode" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator object schema validation should not warn when object schema has no properties in non-strict mode" name="SchemaValidator object schema validation should not warn when object schema has no properties in non-strict mode" time="0">
    </testcase>
    <testcase classname="SchemaValidator object schema validation should error when required is not an array" name="SchemaValidator object schema validation should error when required is not an array" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator object schema validation should error when required item is not a string" name="SchemaValidator object schema validation should error when required item is not a string" time="0">
    </testcase>
    <testcase classname="SchemaValidator object schema validation should validate valid required array" name="SchemaValidator object schema validation should validate valid required array" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator array schema validation should warn when array schema has no items in strict mode" name="SchemaValidator array schema validation should warn when array schema has no items in strict mode" time="0">
    </testcase>
    <testcase classname="SchemaValidator array schema validation should not warn when array schema has no items in non-strict mode" name="SchemaValidator array schema validation should not warn when array schema has no items in non-strict mode" time="0.002">
    </testcase>
    <testcase classname="SchemaValidator array schema validation should validate array schema with items" name="SchemaValidator array schema validation should validate array schema with items" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator JSON Schema draft validation should warn for unsupported schema version" name="SchemaValidator JSON Schema draft validation should warn for unsupported schema version" time="0">
    </testcase>
    <testcase classname="SchemaValidator JSON Schema draft validation should not warn for supported schema version" name="SchemaValidator JSON Schema draft validation should not warn for supported schema version" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator JSON Schema draft validation should warn for deprecated keywords" name="SchemaValidator JSON Schema draft validation should warn for deprecated keywords" time="0">
    </testcase>
    <testcase classname="SchemaValidator JSON Schema draft validation should skip draft validation when disabled" name="SchemaValidator JSON Schema draft validation should skip draft validation when disabled" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator schema depth validation should error when schema exceeds max depth" name="SchemaValidator schema depth validation should error when schema exceeds max depth" time="0">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: false
Received: true
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/schema-validator.test.ts:349:28)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="SchemaValidator schema depth validation should allow custom max depth" name="SchemaValidator schema depth validation should allow custom max depth" time="0">
    </testcase>
    <testcase classname="SchemaValidator schema depth validation should skip depth validation when maxSchemaDepth is undefined" name="SchemaValidator schema depth validation should skip depth validation when maxSchemaDepth is undefined" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator type-specific validation string schema validation should error for negative minLength" name="SchemaValidator type-specific validation string schema validation should error for negative minLength" time="0">
    </testcase>
    <testcase classname="SchemaValidator type-specific validation string schema validation should error for negative maxLength" name="SchemaValidator type-specific validation string schema validation should error for negative maxLength" time="0.001">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: false
Received: true
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/schema-validator.test.ts:414:30)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="SchemaValidator type-specific validation string schema validation should error when minLength &gt; maxLength" name="SchemaValidator type-specific validation string schema validation should error when minLength &gt; maxLength" time="0">
    </testcase>
    <testcase classname="SchemaValidator type-specific validation string schema validation should validate valid string constraints" name="SchemaValidator type-specific validation string schema validation should validate valid string constraints" time="0">
    </testcase>
    <testcase classname="SchemaValidator type-specific validation numeric schema validation should error when minimum &gt; maximum" name="SchemaValidator type-specific validation numeric schema validation should error when minimum &gt; maximum" time="0">
    </testcase>
    <testcase classname="SchemaValidator type-specific validation numeric schema validation should error when exclusiveMinimum &gt;= exclusiveMaximum" name="SchemaValidator type-specific validation numeric schema validation should error when exclusiveMinimum &gt;= exclusiveMaximum" time="0">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: false
Received: true
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/schema-validator.test.ts:468:30)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="SchemaValidator type-specific validation numeric schema validation should error for negative multipleOf" name="SchemaValidator type-specific validation numeric schema validation should error for negative multipleOf" time="0.001">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: true
Received: false
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/schema-validator.test.ts:481:80)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="SchemaValidator type-specific validation numeric schema validation should validate valid numeric constraints" name="SchemaValidator type-specific validation numeric schema validation should validate valid numeric constraints" time="0">
    </testcase>
    <testcase classname="SchemaValidator type-specific validation object schema validation should error for negative minProperties" name="SchemaValidator type-specific validation object schema validation should error for negative minProperties" time="0.001">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: false
Received: true
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/schema-validator.test.ts:507:30)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="SchemaValidator type-specific validation object schema validation should error for negative maxProperties" name="SchemaValidator type-specific validation object schema validation should error for negative maxProperties" time="0.001">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: false
Received: true
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/schema-validator.test.ts:519:30)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="SchemaValidator type-specific validation object schema validation should error when minProperties &gt; maxProperties" name="SchemaValidator type-specific validation object schema validation should error when minProperties &gt; maxProperties" time="0">
    </testcase>
    <testcase classname="SchemaValidator type-specific validation array schema validation should error for negative minItems" name="SchemaValidator type-specific validation array schema validation should error for negative minItems" time="0.002">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: false
Received: true
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/schema-validator.test.ts:546:30)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="SchemaValidator type-specific validation array schema validation should error for negative maxItems" name="SchemaValidator type-specific validation array schema validation should error for negative maxItems" time="0.001">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: false
Received: true
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/schema-validator.test.ts:558:30)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="SchemaValidator type-specific validation array schema validation should error when minItems &gt; maxItems" name="SchemaValidator type-specific validation array schema validation should error when minItems &gt; maxItems" time="0">
    </testcase>
    <testcase classname="SchemaValidator edge cases should handle empty schema object" name="SchemaValidator edge cases should handle empty schema object" time="0">
    </testcase>
    <testcase classname="SchemaValidator edge cases should handle null schema" name="SchemaValidator edge cases should handle null schema" time="0.001">
      <failure>TypeError: Cannot read properties of null (reading &apos;type&apos;)
    at SchemaValidator.type [as validateBasicStructure] (/Users/cryophobic/dev/projects/tally-mcp/src/validation/schema-validator.ts:80:17)
    at SchemaValidator.validateBasicStructure [as validateSchema] (/Users/cryophobic/dev/projects/tally-mcp/src/validation/schema-validator.ts:43:10)
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/schema-validator.test.ts:589:32)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="SchemaValidator edge cases should handle schema with circular references" name="SchemaValidator edge cases should handle schema with circular references" time="0.001">
    </testcase>
    <testcase classname="SchemaValidator edge cases should handle very large schema" name="SchemaValidator edge cases should handle very large schema" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="TeamManager" errors="0" failures="5" skipped="0" timestamp="2025-06-13T13:21:51" time="0.188" tests="30">
    <testcase classname="TeamManager constructor should create an instance with required dependencies" name="TeamManager constructor should create an instance with required dependencies" time="0.001">
    </testcase>
    <testcase classname="TeamManager constructor should create an instance with default config when none provided" name="TeamManager constructor should create an instance with default config when none provided" time="0.001">
    </testcase>
    <testcase classname="TeamManager createTeam should create a team successfully after validating workspace" name="TeamManager createTeam should create a team successfully after validating workspace" time="0">
    </testcase>
    <testcase classname="TeamManager createTeam should throw error if workspace validation fails" name="TeamManager createTeam should throw error if workspace validation fails" time="0.011">
    </testcase>
    <testcase classname="TeamManager getTeam should get team details successfully" name="TeamManager getTeam should get team details successfully" time="0.001">
    </testcase>
    <testcase classname="TeamManager getTeam should propagate service errors" name="TeamManager getTeam should propagate service errors" time="0">
    </testcase>
    <testcase classname="TeamManager updateTeam should update team without parent change" name="TeamManager updateTeam should update team without parent change" time="0">
    </testcase>
    <testcase classname="TeamManager updateTeam should validate hierarchy when changing parent team" name="TeamManager updateTeam should validate hierarchy when changing parent team" time="0.001">
    </testcase>
    <testcase classname="TeamManager updateTeam should handle setting parentTeamId to undefined" name="TeamManager updateTeam should handle setting parentTeamId to undefined" time="0.001">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;team-123&quot;, undefined

Number of calls: 0
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/team-manager.test.ts:211:27)</failure>
    </testcase>
    <testcase classname="TeamManager deleteTeam should delete team without options" name="TeamManager deleteTeam should delete team without options" time="0.001">
    </testcase>
    <testcase classname="TeamManager deleteTeam should reassign members when reassignMembersTo option provided" name="TeamManager deleteTeam should reassign members when reassignMembersTo option provided" time="0.001">
    </testcase>
    <testcase classname="TeamManager deleteTeam should delete child teams when deleteChildTeams option is true" name="TeamManager deleteTeam should delete child teams when deleteChildTeams option is true" time="0.001">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

- Expected
+ Received

- &quot;child-team-1&quot;,
+ &quot;team-123&quot;,
  {&quot;deleteChildTeams&quot;: true},

Number of calls: 1
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/team-manager.test.ts:267:25)</failure>
    </testcase>
    <testcase classname="TeamManager deleteTeam should move child teams to parent when deleteChildTeams is false" name="TeamManager deleteTeam should move child teams to parent when deleteChildTeams is false" time="0.001">
    </testcase>
    <testcase classname="TeamManager getTeams should get teams list successfully" name="TeamManager getTeams should get teams list successfully" time="0">
    </testcase>
    <testcase classname="TeamManager getTeams should pass all options to service" name="TeamManager getTeams should pass all options to service" time="0.001">
    </testcase>
    <testcase classname="TeamManager addTeamMember should add team member with default role and permissions" name="TeamManager addTeamMember should add team member with default role and permissions" time="0">
    </testcase>
    <testcase classname="TeamManager addTeamMember should add team member with custom role and permissions" name="TeamManager addTeamMember should add team member with custom role and permissions" time="0.001">
    </testcase>
    <testcase classname="TeamManager addTeamMember should throw error if team validation fails" name="TeamManager addTeamMember should throw error if team validation fails" time="0.002">
    </testcase>
    <testcase classname="TeamManager removeTeamMember should remove team member successfully" name="TeamManager removeTeamMember should remove team member successfully" time="0.001">
    </testcase>
    <testcase classname="TeamManager updateTeamMember should update team member role and permissions" name="TeamManager updateTeamMember should update team member role and permissions" time="0">
    </testcase>
    <testcase classname="TeamManager updateTeamMember should update only role when permissions not provided" name="TeamManager updateTeamMember should update only role when permissions not provided" time="0.001">
    </testcase>
    <testcase classname="TeamManager bulkUpdateMemberships should perform bulk membership updates" name="TeamManager bulkUpdateMemberships should perform bulk membership updates" time="0">
    </testcase>
    <testcase classname="TeamManager moveUsersBetweenTeams should move users between teams successfully" name="TeamManager moveUsersBetweenTeams should move users between teams successfully" time="0">
    </testcase>
    <testcase classname="TeamManager moveUsersBetweenTeams should use default member role when newRole not provided" name="TeamManager moveUsersBetweenTeams should use default member role when newRole not provided" time="0.001">
    </testcase>
    <testcase classname="TeamManager moveTeam should move team to new parent" name="TeamManager moveTeam should move team to new parent" time="0.001">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;team-123&quot;, {&quot;parentTeamId&quot;: &quot;new-parent&quot;}

Number of calls: 0
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/team-manager.test.ts:514:42)</failure>
    </testcase>
    <testcase classname="TeamManager moveTeam should make team a root team when newParentTeamId is undefined" name="TeamManager moveTeam should make team a root team when newParentTeamId is undefined" time="0.001">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: &quot;team-123&quot;, {&quot;parentTeamId&quot;: undefined}

Number of calls: 0
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/team-manager.test.ts:528:42)</failure>
    </testcase>
    <testcase classname="TeamManager edge cases and error handling should handle empty user array in moveUsersBetweenTeams" name="TeamManager edge cases and error handling should handle empty user array in moveUsersBetweenTeams" time="0">
    </testcase>
    <testcase classname="TeamManager edge cases and error handling should handle team with no members in deleteTeam with reassignment" name="TeamManager edge cases and error handling should handle team with no members in deleteTeam with reassignment" time="0.001">
    </testcase>
    <testcase classname="TeamManager edge cases and error handling should handle team with no child teams in deleteTeam" name="TeamManager edge cases and error handling should handle team with no child teams in deleteTeam" time="0.001">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)

Expected number of calls: 1
Received number of calls: 0
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/tools/__tests__/team-manager.test.ts:581:25)</failure>
    </testcase>
    <testcase classname="TeamManager method chaining should chain operations correctly" name="TeamManager method chaining should chain operations correctly" time="0">
    </testcase>
  </testsuite>
  <testsuite name="TallyApiClient" errors="0" failures="2" skipped="0" timestamp="2025-06-13T13:21:51" time="0.163" tests="13">
    <testcase classname="TallyApiClient should be defined" name="TallyApiClient should be defined" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Authentication should throw an error when getting authorization URL without OAuth2 config" name="TallyApiClient Authentication should throw an error when getting authorization URL without OAuth2 config" time="0.012">
    </testcase>
    <testcase classname="TallyApiClient Authentication should throw an error when exchanging code for token without OAuth2 config" name="TallyApiClient Authentication should throw an error when exchanging code for token without OAuth2 config" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Authentication should be authenticated if access token is provided" name="TallyApiClient Authentication should be authenticated if access token is provided" time="0">
    </testcase>
    <testcase classname="TallyApiClient Authentication should not be authenticated if access token is not provided" name="TallyApiClient Authentication should not be authenticated if access token is not provided" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Authentication should throw an error when refreshing token without OAuth2 config" name="TallyApiClient Authentication should throw an error when refreshing token without OAuth2 config" time="0">
    </testcase>
    <testcase classname="TallyApiClient Authentication should clear the access token" name="TallyApiClient Authentication should clear the access token" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Authentication should set the access token" name="TallyApiClient Authentication should set the access token" time="0">
    </testcase>
    <testcase classname="TallyApiClient Authentication should get the access token" name="TallyApiClient Authentication should get the access token" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Authentication should get the current token" name="TallyApiClient Authentication should get the current token" time="0.003">
    </testcase>
    <testcase classname="TallyApiClient Request Handling should handle a successful GET request" name="TallyApiClient Request Handling should handle a successful GET request" time="0">
    </testcase>
    <testcase classname="TallyApiClient Request Handling should handle a 404 Not Found error" name="TallyApiClient Request Handling should handle a 404 Not Found error" time="0.001">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Not Found&quot;

Received function did not throw
    at Object.toThrow (/Users/cryophobic/dev/projects/tally-mcp/node_modules/expect/build/index.js:218:22)
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/api/TallyApiClient.test.ts:90:66)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="TallyApiClient Request Handling should handle a 401 Unauthorized error" name="TallyApiClient Request Handling should handle a 401 Unauthorized error" time="0.003">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;No valid authentication found. Please authenticate first.&quot;
Received message:   &quot;this.axiosInstance.request is not a function&quot;

      586 |
      587 |     // The interceptors will handle authentication and error handling
    &gt; 588 |     const response: AxiosResponse&lt;T&gt; = await this.axiosInstance.request(requestConfig);
          |                                                                 ^
      589 |
      590 |     return {
      591 |       data: response.data,

      at TallyApiClient.request (src/services/TallyApiClient.ts:588:65)
      at TallyApiClient.request [as get] (src/services/TallyApiClient.ts:348:17)
      at Object.&lt;anonymous&gt; (src/__tests__/api/TallyApiClient.test.ts:96:27)
    at Object.toThrow (/Users/cryophobic/dev/projects/tally-mcp/node_modules/expect/build/index.js:218:22)
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/api/TallyApiClient.test.ts:96:47)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname=" Test execution failure: could be caused by test hooks like &apos;afterAll&apos;." name=" Test execution failure: could be caused by test hooks like &apos;afterAll&apos;." time="0">
      <failure>{&quot;message&quot;:&quot;&quot;,&quot;stack&quot;:&quot;Error: thrown: Object {\n  \&quot;isAxiosError\&quot;: true,\n  \&quot;response\&quot;: Object {\n    \&quot;data\&quot;: Object {\n      \&quot;message\&quot;: \&quot;Not Found\&quot;,\n    },\n    \&quot;status\&quot;: 404,\n  },\n}\n    at _getError (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:432:18)\n    at Array.map (&lt;anonymous&gt;)\n    at makeRunResult (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:346:36)\n    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:75:35)\n    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)\nNotFoundError: Not Found\n    at createErrorFromResponse (/Users/cryophobic/dev/projects/tally-mcp/src/models/errors.ts:291:14)\n    at TallyApiClient.handleResponseError (/Users/cryophobic/dev/projects/tally-mcp/src/services/TallyApiClient.ts:876:54)\n    at handleResponseError (/Users/cryophobic/dev/projects/tally-mcp/src/services/TallyApiClient.ts:999:21)\n    at Object.mockInterceptor [as use] (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/api/TallyApiClient.test.ts:85:57)\n    at TallyApiClient.use [as setupInterceptors] (/Users/cryophobic/dev/projects/tally-mcp/src/services/TallyApiClient.ts:987:46)\n    at new setupInterceptors (/Users/cryophobic/dev/projects/tally-mcp/src/services/TallyApiClient.ts:220:10)\n    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/api/TallyApiClient.test.ts:88:16)\n    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (&lt;anonymous&gt;)\n    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)&quot;}</failure>
    </testcase>
  </testsuite>
  <testsuite name="ValidationUtils" errors="0" failures="20" skipped="0" timestamp="2025-06-13T13:21:51" time="0.159" tests="22">
    <testcase classname="ValidationUtils createError should create a validation error with required fields" name="ValidationUtils createError should create a validation error with required fields" time="0">
    </testcase>
    <testcase classname="ValidationUtils createError should create a validation error with optional fields" name="ValidationUtils createError should create a validation error with optional fields" time="0">
    </testcase>
    <testcase classname="ValidationUtils formatPath should format simple path" name="ValidationUtils formatPath should format simple path" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.formatPath is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:53:41)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils formatPath should format array index path" name="ValidationUtils formatPath should format array index path" time="0.001">
      <failure>TypeError: validation_utils_1.ValidationUtils.formatPath is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:58:41)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils formatPath should handle empty path" name="ValidationUtils formatPath should handle empty path" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.formatPath is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:63:41)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils formatPath should handle single element path" name="ValidationUtils formatPath should handle single element path" time="0.001">
      <failure>TypeError: validation_utils_1.ValidationUtils.formatPath is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:68:41)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils isValidJsonSchemaType should return true for valid types" name="ValidationUtils isValidJsonSchemaType should return true for valid types" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.isValidJsonSchemaType is not a function
    at /Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:78:32
    at Array.forEach (&lt;anonymous&gt;)
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:77:18)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils isValidJsonSchemaType should return false for invalid types" name="ValidationUtils isValidJsonSchemaType should return false for invalid types" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.isValidJsonSchemaType is not a function
    at /Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:86:32
    at Array.forEach (&lt;anonymous&gt;)
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:85:20)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils isValidJsonSchemaType should handle null and undefined" name="ValidationUtils isValidJsonSchemaType should handle null and undefined" time="0.001">
      <failure>TypeError: validation_utils_1.ValidationUtils.isValidJsonSchemaType is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:91:30)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils mergeValidationResults should merge two validation results" name="ValidationUtils mergeValidationResults should merge two validation results" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.mergeValidationResults is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:114:38)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils mergeValidationResults should handle empty results" name="ValidationUtils mergeValidationResults should handle empty results" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.mergeValidationResults is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:136:38)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils validateRequired should validate required fields are present" name="ValidationUtils validateRequired should validate required fields are present" time="0.001">
      <failure>TypeError: validation_utils_1.ValidationUtils.validateRequired is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:155:38)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils validateRequired should return errors for missing required fields" name="ValidationUtils validateRequired should return errors for missing required fields" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.validateRequired is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:164:38)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils validateRequired should handle empty required array" name="ValidationUtils validateRequired should handle empty required array" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.validateRequired is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:177:38)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils validateRequired should handle null/undefined data" name="ValidationUtils validateRequired should handle null/undefined data" time="0.001">
      <failure>TypeError: validation_utils_1.ValidationUtils.validateRequired is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:185:42)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils sanitizeErrorMessage should sanitize error messages" name="ValidationUtils sanitizeErrorMessage should sanitize error messages" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.sanitizeErrorMessage is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:196:41)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils sanitizeErrorMessage should preserve safe content" name="ValidationUtils sanitizeErrorMessage should preserve safe content" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.sanitizeErrorMessage is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:204:41)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils sanitizeErrorMessage should handle empty and null messages" name="ValidationUtils sanitizeErrorMessage should handle empty and null messages" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.sanitizeErrorMessage is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:210:30)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils getErrorSeverityLevel should return correct numeric levels for severities" name="ValidationUtils getErrorSeverityLevel should return correct numeric levels for severities" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.getErrorSeverityLevel is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:218:30)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils getErrorSeverityLevel should handle invalid severity" name="ValidationUtils getErrorSeverityLevel should handle invalid severity" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.getErrorSeverityLevel is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:224:30)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils sortErrorsBySeverity should sort errors by severity (highest first)" name="ValidationUtils sortErrorsBySeverity should sort errors by severity (highest first)" time="0.001">
      <failure>TypeError: validation_utils_1.ValidationUtils.sortErrorsBySeverity is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:237:38)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils sortErrorsBySeverity should handle empty array" name="ValidationUtils sortErrorsBySeverity should handle empty array" time="0">
      <failure>TypeError: validation_utils_1.ValidationUtils.sortErrorsBySeverity is not a function
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils.test.ts:246:38)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
  </testsuite>
  <testsuite name="capability-negotiation" errors="0" failures="1" skipped="0" timestamp="2025-06-13T13:21:52" time="0.133" tests="8">
    <testcase classname="capability-negotiation negotiateCapabilities should return server defaults when no client capabilities provided" name="capability-negotiation negotiateCapabilities should return server defaults when no client capabilities provided" time="0">
    </testcase>
    <testcase classname="capability-negotiation negotiateCapabilities should throw StructuredError on protocol version mismatch" name="capability-negotiation negotiateCapabilities should throw StructuredError on protocol version mismatch" time="0.008">
    </testcase>
    <testcase classname="capability-negotiation negotiateCapabilities should negotiate tools capabilities correctly" name="capability-negotiation negotiateCapabilities should negotiate tools capabilities correctly" time="0">
    </testcase>
    <testcase classname="capability-negotiation negotiateCapabilities should negotiate resources capabilities correctly" name="capability-negotiation negotiateCapabilities should negotiate resources capabilities correctly" time="0">
    </testcase>
    <testcase classname="capability-negotiation negotiateCapabilities should negotiate prompts capabilities correctly" name="capability-negotiation negotiateCapabilities should negotiate prompts capabilities correctly" time="0.001">
    </testcase>
    <testcase classname="capability-negotiation negotiateCapabilities should negotiate logging capabilities correctly" name="capability-negotiation negotiateCapabilities should negotiate logging capabilities correctly" time="0">
    </testcase>
    <testcase classname="capability-negotiation negotiateCapabilities should handle partial client capabilities" name="capability-negotiation negotiateCapabilities should handle partial client capabilities" time="0.001">
      <failure>Error: expect(received).toEqual(expected) // deep equality

Expected: {&quot;get&quot;: true, &quot;list&quot;: true, &quot;listChanged&quot;: true, &quot;subscribe&quot;: true}
Received: undefined
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/__tests__/utils/capability-negotiation.test.ts:144:30)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="capability-negotiation negotiateCapabilities should handle all capabilities disabled by client" name="capability-negotiation negotiateCapabilities should handle all capabilities disabled by client" time="0">
    </testcase>
  </testsuite>
  <testsuite name="ValidationUtils" errors="0" failures="1" skipped="0" timestamp="2025-06-13T13:21:52" time="0.134" tests="15">
    <testcase classname="ValidationUtils createError should create a validation error with required fields" name="ValidationUtils createError should create a validation error with required fields" time="0.001">
    </testcase>
    <testcase classname="ValidationUtils createError should create a validation error with optional fields" name="ValidationUtils createError should create a validation error with optional fields" time="0">
    </testcase>
    <testcase classname="ValidationUtils createError should use default severity when not provided" name="ValidationUtils createError should use default severity when not provided" time="0.001">
    </testcase>
    <testcase classname="ValidationUtils mergeResults should merge multiple validation results" name="ValidationUtils mergeResults should merge multiple validation results" time="0">
    </testcase>
    <testcase classname="ValidationUtils mergeResults should handle empty results" name="ValidationUtils mergeResults should handle empty results" time="0">
    </testcase>
    <testcase classname="ValidationUtils mergeResults should handle single result" name="ValidationUtils mergeResults should handle single result" time="0.001">
    </testcase>
    <testcase classname="ValidationUtils formatError should format basic error" name="ValidationUtils formatError should format basic error" time="0">
    </testcase>
    <testcase classname="ValidationUtils formatError should format error with path" name="ValidationUtils formatError should format error with path" time="0">
    </testcase>
    <testcase classname="ValidationUtils formatError should format error with expected/actual values" name="ValidationUtils formatError should format error with expected/actual values" time="0.001">
    </testcase>
    <testcase classname="ValidationUtils formatError should format error with spec reference" name="ValidationUtils formatError should format error with spec reference" time="0">
    </testcase>
    <testcase classname="ValidationUtils calculateComplexity should calculate complexity for simple schema" name="ValidationUtils calculateComplexity should calculate complexity for simple schema" time="0">
    </testcase>
    <testcase classname="ValidationUtils calculateComplexity should calculate complexity for object schema" name="ValidationUtils calculateComplexity should calculate complexity for object schema" time="0.001">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: 4
Received: 5.5
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/validation/__tests__/validation-utils-simple.test.ts:176:26)
    at Promise.then.completed (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:121:9)
    at run (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/Users/cryophobic/dev/projects/tally-mcp/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="ValidationUtils calculateComplexity should calculate complexity for nested schema" name="ValidationUtils calculateComplexity should calculate complexity for nested schema" time="0.001">
    </testcase>
    <testcase classname="ValidationUtils calculateComplexity should handle null/undefined schema" name="ValidationUtils calculateComplexity should handle null/undefined schema" time="0">
    </testcase>
    <testcase classname="ValidationUtils calculateComplexity should handle empty schema" name="ValidationUtils calculateComplexity should handle empty schema" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Express Middleware and SSE Transport" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:52" time="1.766" tests="13">
    <testcase classname="Express Middleware and SSE Transport Middleware Stack should handle CORS headers correctly" name="Express Middleware and SSE Transport Middleware Stack should handle CORS headers correctly" time="0.11">
    </testcase>
    <testcase classname="Express Middleware and SSE Transport Middleware Stack should handle JSON body parsing" name="Express Middleware and SSE Transport Middleware Stack should handle JSON body parsing" time="0.104">
    </testcase>
    <testcase classname="Express Middleware and SSE Transport Middleware Stack should enforce connection limits" name="Express Middleware and SSE Transport Middleware Stack should enforce connection limits" time="0.103">
    </testcase>
    <testcase classname="Express Middleware and SSE Transport Middleware Stack should handle malformed JSON gracefully" name="Express Middleware and SSE Transport Middleware Stack should handle malformed JSON gracefully" time="0.104">
    </testcase>
    <testcase classname="Express Middleware and SSE Transport SSE Transport should establish SSE connection with proper headers" name="Express Middleware and SSE Transport SSE Transport should establish SSE connection with proper headers" time="0.112">
    </testcase>
    <testcase classname="Express Middleware and SSE Transport SSE Transport should track connection count correctly" name="Express Middleware and SSE Transport SSE Transport should track connection count correctly" time="0.314">
    </testcase>
    <testcase classname="Express Middleware and SSE Transport MCP Message Handling should process valid MCP messages" name="Express Middleware and SSE Transport MCP Message Handling should process valid MCP messages" time="0.106">
    </testcase>
    <testcase classname="Express Middleware and SSE Transport MCP Message Handling should reject invalid message format" name="Express Middleware and SSE Transport MCP Message Handling should reject invalid message format" time="0.106">
    </testcase>
    <testcase classname="Express Middleware and SSE Transport MCP Message Handling should handle missing message properties" name="Express Middleware and SSE Transport MCP Message Handling should handle missing message properties" time="0.108">
    </testcase>
    <testcase classname="Express Middleware and SSE Transport Error Handling should handle request timeout gracefully" name="Express Middleware and SSE Transport Error Handling should handle request timeout gracefully" time="0.106">
    </testcase>
    <testcase classname="Express Middleware and SSE Transport Error Handling should handle server errors gracefully" name="Express Middleware and SSE Transport Error Handling should handle server errors gracefully" time="0.106">
    </testcase>
    <testcase classname="Express Middleware and SSE Transport Security Features should have security headers set" name="Express Middleware and SSE Transport Security Features should have security headers set" time="0.107">
    </testcase>
    <testcase classname="Express Middleware and SSE Transport Security Features should handle large payloads within limits" name="Express Middleware and SSE Transport Security Features should handle large payloads within limits" time="0.106">
    </testcase>
  </testsuite>
  <testsuite name="Validation Middleware" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:54" time="0.48" tests="34">
    <testcase classname="Validation Middleware createValidationMiddleware should validate request body successfully" name="Validation Middleware createValidationMiddleware should validate request body successfully" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware createValidationMiddleware should reject invalid request body" name="Validation Middleware createValidationMiddleware should reject invalid request body" time="0">
    </testcase>
    <testcase classname="Validation Middleware createValidationMiddleware should validate query parameters" name="Validation Middleware createValidationMiddleware should validate query parameters" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware createValidationMiddleware should validate URL parameters" name="Validation Middleware createValidationMiddleware should validate URL parameters" time="0">
    </testcase>
    <testcase classname="Validation Middleware createValidationMiddleware should validate headers" name="Validation Middleware createValidationMiddleware should validate headers" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware createValidationMiddleware should perform security checks when enabled" name="Validation Middleware createValidationMiddleware should perform security checks when enabled" time="0">
    </testcase>
    <testcase classname="Validation Middleware createValidationMiddleware should detect SQL injection patterns" name="Validation Middleware createValidationMiddleware should detect SQL injection patterns" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware createValidationMiddleware should handle partial validation" name="Validation Middleware createValidationMiddleware should handle partial validation" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware createValidationMiddleware should strip unknown fields when configured" name="Validation Middleware createValidationMiddleware should strip unknown fields when configured" time="0">
    </testcase>
    <testcase classname="Validation Middleware createValidationMiddleware should handle validation errors gracefully" name="Validation Middleware createValidationMiddleware should handle validation errors gracefully" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas pagination should validate valid pagination parameters" name="Validation Middleware CommonSchemas pagination should validate valid pagination parameters" time="0">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas pagination should apply default values" name="Validation Middleware CommonSchemas pagination should apply default values" time="0">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas pagination should reject invalid pagination" name="Validation Middleware CommonSchemas pagination should reject invalid pagination" time="0">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas formId should validate valid form IDs" name="Validation Middleware CommonSchemas formId should validate valid form IDs" time="0">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas formId should reject invalid form IDs" name="Validation Middleware CommonSchemas formId should reject invalid form IDs" time="0">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas formId should reject empty form IDs" name="Validation Middleware CommonSchemas formId should reject empty form IDs" time="0.002">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas dateRange should validate valid date ranges" name="Validation Middleware CommonSchemas dateRange should validate valid date ranges" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas dateRange should reject invalid date ranges" name="Validation Middleware CommonSchemas dateRange should reject invalid date ranges" time="0">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas search should validate safe search queries" name="Validation Middleware CommonSchemas search should validate safe search queries" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas search should reject SQL injection attempts" name="Validation Middleware CommonSchemas search should reject SQL injection attempts" time="0">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas search should reject XSS attempts" name="Validation Middleware CommonSchemas search should reject XSS attempts" time="0">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas fileUpload should validate valid file uploads" name="Validation Middleware CommonSchemas fileUpload should validate valid file uploads" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas fileUpload should reject files that are too large" name="Validation Middleware CommonSchemas fileUpload should reject files that are too large" time="0">
    </testcase>
    <testcase classname="Validation Middleware CommonSchemas fileUpload should reject invalid MIME types" name="Validation Middleware CommonSchemas fileUpload should reject invalid MIME types" time="0">
    </testcase>
    <testcase classname="Validation Middleware ValidationMiddleware presets should validate pagination middleware" name="Validation Middleware ValidationMiddleware presets should validate pagination middleware" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware ValidationMiddleware presets should validate form params middleware" name="Validation Middleware ValidationMiddleware presets should validate form params middleware" time="0">
    </testcase>
    <testcase classname="Validation Middleware ValidationMiddleware presets should validate search middleware" name="Validation Middleware ValidationMiddleware presets should validate search middleware" time="0">
    </testcase>
    <testcase classname="Validation Middleware ValidationMiddleware presets should reject malicious search queries" name="Validation Middleware ValidationMiddleware presets should reject malicious search queries" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware Helper functions validateWithSchema should validate data successfully" name="Validation Middleware Helper functions validateWithSchema should validate data successfully" time="0">
    </testcase>
    <testcase classname="Validation Middleware Helper functions validateWithSchema should return errors for invalid data" name="Validation Middleware Helper functions validateWithSchema should return errors for invalid data" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware Helper functions createTypedValidator should create a type guard function" name="Validation Middleware Helper functions createTypedValidator should create a type guard function" time="0">
    </testcase>
    <testcase classname="Validation Middleware Helper functions formatValidationError should format validation errors correctly" name="Validation Middleware Helper functions formatValidationError should format validation errors correctly" time="0.001">
    </testcase>
    <testcase classname="Validation Middleware Security Features should detect and block length-based attacks" name="Validation Middleware Security Features should detect and block length-based attacks" time="0">
    </testcase>
    <testcase classname="Validation Middleware Security Features should handle nested object security checks" name="Validation Middleware Security Features should handle nested object security checks" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="Rate Limiter Middleware" errors="0" failures="1" skipped="0" timestamp="2025-06-13T13:21:54" time="0.37" tests="20">
    <testcase classname="Rate Limiter Middleware Basic Rate Limiting should allow requests within the limit" name="Rate Limiter Middleware Basic Rate Limiting should allow requests within the limit" time="0.026">
    </testcase>
    <testcase classname="Rate Limiter Middleware Basic Rate Limiting should block requests that exceed the limit" name="Rate Limiter Middleware Basic Rate Limiting should block requests that exceed the limit" time="0.01">
    </testcase>
    <testcase classname="Rate Limiter Middleware Basic Rate Limiting should skip rate limiting for health checks" name="Rate Limiter Middleware Basic Rate Limiting should skip rate limiting for health checks" time="0.017">
    </testcase>
    <testcase classname="Rate Limiter Middleware Pre-configured Rate Limiters should apply strict rate limiting" name="Rate Limiter Middleware Pre-configured Rate Limiters should apply strict rate limiting" time="0.004">
    </testcase>
    <testcase classname="Rate Limiter Middleware Pre-configured Rate Limiters should apply standard rate limiting" name="Rate Limiter Middleware Pre-configured Rate Limiters should apply standard rate limiting" time="0.004">
    </testcase>
    <testcase classname="Rate Limiter Middleware Pre-configured Rate Limiters should apply lenient rate limiting" name="Rate Limiter Middleware Pre-configured Rate Limiters should apply lenient rate limiting" time="0.005">
      <failure>Error: socket hang up
    at Socket.socketOnEnd (node:_http_client:528:25)
    at Socket.emit (node:events:536:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at processTicksAndRejections (node:internal/process/task_queues:82:21)</failure>
    </testcase>
    <testcase classname="Rate Limiter Middleware Tally API Rate Limiter should allow requests when tokens are available" name="Rate Limiter Middleware Tally API Rate Limiter should allow requests when tokens are available" time="0.004">
    </testcase>
    <testcase classname="Rate Limiter Middleware Tally API Rate Limiter should block requests when no tokens are available" name="Rate Limiter Middleware Tally API Rate Limiter should block requests when no tokens are available" time="0.004">
    </testcase>
    <testcase classname="Rate Limiter Middleware Tally API Rate Limiter should refill tokens over time" name="Rate Limiter Middleware Tally API Rate Limiter should refill tokens over time" time="0.004">
    </testcase>
    <testcase classname="Rate Limiter Middleware Composite Rate Limiter should apply both rate limiters" name="Rate Limiter Middleware Composite Rate Limiter should apply both rate limiters" time="0.006">
    </testcase>
    <testcase classname="Rate Limiter Middleware Composite Rate Limiter should be blocked by Tally API limiter when tokens exhausted" name="Rate Limiter Middleware Composite Rate Limiter should be blocked by Tally API limiter when tokens exhausted" time="0.004">
    </testcase>
    <testcase classname="Rate Limiter Middleware Rate Limit Error Handler should handle rate limit errors" name="Rate Limiter Middleware Rate Limit Error Handler should handle rate limit errors" time="0.007">
    </testcase>
    <testcase classname="Rate Limiter Middleware Rate Limit Error Handler should pass through non-rate-limit errors" name="Rate Limiter Middleware Rate Limit Error Handler should pass through non-rate-limit errors" time="0.001">
    </testcase>
    <testcase classname="Rate Limiter Middleware Rate Limit Status Utility should return current rate limit status" name="Rate Limiter Middleware Rate Limit Status Utility should return current rate limit status" time="0.001">
    </testcase>
    <testcase classname="Rate Limiter Middleware Token Bucket Algorithm should refill tokens at the correct rate" name="Rate Limiter Middleware Token Bucket Algorithm should refill tokens at the correct rate" time="0">
    </testcase>
    <testcase classname="Rate Limiter Middleware Token Bucket Algorithm should not exceed maximum tokens" name="Rate Limiter Middleware Token Bucket Algorithm should not exceed maximum tokens" time="0.001">
    </testcase>
    <testcase classname="Rate Limiter Middleware Token Bucket Algorithm should calculate correct time until next token" name="Rate Limiter Middleware Token Bucket Algorithm should calculate correct time until next token" time="0">
    </testcase>
    <testcase classname="Rate Limit Configurations should have correct strict configuration" name="Rate Limit Configurations should have correct strict configuration" time="0">
    </testcase>
    <testcase classname="Rate Limit Configurations should have correct standard configuration" name="Rate Limit Configurations should have correct standard configuration" time="0.001">
    </testcase>
    <testcase classname="Rate Limit Configurations should have correct lenient configuration" name="Rate Limit Configurations should have correct lenient configuration" time="0">
    </testcase>
  </testsuite>
  <testsuite name="User Workflow Integration Tests" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:55" time="0.296" tests="6">
    <testcase classname="User Workflow Integration Tests Form Creation Workflow should create a form from a natural language prompt via MCP" name="User Workflow Integration Tests Form Creation Workflow should create a form from a natural language prompt via MCP" time="0.014">
    </testcase>
    <testcase classname="User Workflow Integration Tests Form Modification Workflow should modify a form from a natural language prompt via MCP" name="User Workflow Integration Tests Form Modification Workflow should modify a form from a natural language prompt via MCP" time="0.007">
    </testcase>
    <testcase classname="User Workflow Integration Tests Form Sharing Workflow should get form sharing details via MCP" name="User Workflow Integration Tests Form Sharing Workflow should get form sharing details via MCP" time="0.005">
    </testcase>
    <testcase classname="User Workflow Integration Tests Team Management Workflow should invite a team member via MCP" name="User Workflow Integration Tests Team Management Workflow should invite a team member via MCP" time="0.006">
    </testcase>
    <testcase classname="User Workflow Integration Tests Submission Management Workflow should get form submissions via MCP" name="User Workflow Integration Tests Submission Management Workflow should get form submissions via MCP" time="0.005">
    </testcase>
    <testcase classname="User Workflow Integration Tests Template Workflow should create a form from a template via MCP" name="User Workflow Integration Tests Template Workflow should create a form from a template via MCP" time="0.005">
    </testcase>
  </testsuite>
  <testsuite name="Wrangler Configuration" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:55" time="0.147" tests="15">
    <testcase classname="Wrangler Configuration getWranglerConfig should successfully parse valid wrangler.toml" name="Wrangler Configuration getWranglerConfig should successfully parse valid wrangler.toml" time="0.004">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should successfully parse minimal valid wrangler.toml" name="Wrangler Configuration getWranglerConfig should successfully parse minimal valid wrangler.toml" time="0">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should use custom path when provided" name="Wrangler Configuration getWranglerConfig should use custom path when provided" time="0.001">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should throw error when file cannot be read" name="Wrangler Configuration getWranglerConfig should throw error when file cannot be read" time="0.004">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should throw error when TOML is invalid" name="Wrangler Configuration getWranglerConfig should throw error when TOML is invalid" time="0.001">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should throw error when name is missing" name="Wrangler Configuration getWranglerConfig should throw error when name is missing" time="0.001">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should throw error when name is empty" name="Wrangler Configuration getWranglerConfig should throw error when name is empty" time="0.001">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should throw error when compatibility_date is missing" name="Wrangler Configuration getWranglerConfig should throw error when compatibility_date is missing" time="0">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should throw error when compatibility_date format is invalid" name="Wrangler Configuration getWranglerConfig should throw error when compatibility_date format is invalid" time="0.001">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should throw error when kv_namespaces binding is missing" name="Wrangler Configuration getWranglerConfig should throw error when kv_namespaces binding is missing" time="0.001">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should throw error when kv_namespaces id is missing" name="Wrangler Configuration getWranglerConfig should throw error when kv_namespaces id is missing" time="0.001">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should warn when secrets are defined in plaintext" name="Wrangler Configuration getWranglerConfig should warn when secrets are defined in plaintext" time="0.001">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should not warn when no secrets are in plaintext" name="Wrangler Configuration getWranglerConfig should not warn when no secrets are in plaintext" time="0.002">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should handle secrets array correctly" name="Wrangler Configuration getWranglerConfig should handle secrets array correctly" time="0">
    </testcase>
    <testcase classname="Wrangler Configuration getWranglerConfig should handle multiple kv_namespaces" name="Wrangler Configuration getWranglerConfig should handle multiple kv_namespaces" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="Input Sanitization" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:55" time="0.258" tests="32">
    <testcase classname="Input Sanitization sanitizeString should strip script tags by default" name="Input Sanitization sanitizeString should strip script tags by default" time="0.004">
    </testcase>
    <testcase classname="Input Sanitization sanitizeString should remove javascript: protocols" name="Input Sanitization sanitizeString should remove javascript: protocols" time="0.003">
    </testcase>
    <testcase classname="Input Sanitization sanitizeString should strip event handlers" name="Input Sanitization sanitizeString should strip event handlers" time="0.002">
    </testcase>
    <testcase classname="Input Sanitization sanitizeString should allow basic formatting when configured" name="Input Sanitization sanitizeString should allow basic formatting when configured" time="0.002">
    </testcase>
    <testcase classname="Input Sanitization sanitizeString should allow links when configured" name="Input Sanitization sanitizeString should allow links when configured" time="0.001">
    </testcase>
    <testcase classname="Input Sanitization sanitizeString should handle non-string input gracefully" name="Input Sanitization sanitizeString should handle non-string input gracefully" time="0.001">
    </testcase>
    <testcase classname="Input Sanitization sanitizeString should remove potentially dangerous iframe tags" name="Input Sanitization sanitizeString should remove potentially dangerous iframe tags" time="0.001">
    </testcase>
    <testcase classname="Input Sanitization sanitizeString should sanitize data attributes" name="Input Sanitization sanitizeString should sanitize data attributes" time="0.002">
    </testcase>
    <testcase classname="Input Sanitization sanitizeObject should sanitize all string values in an object" name="Input Sanitization sanitizeObject should sanitize all string values in an object" time="0.002">
    </testcase>
    <testcase classname="Input Sanitization sanitizeObject should handle nested objects" name="Input Sanitization sanitizeObject should handle nested objects" time="0.002">
    </testcase>
    <testcase classname="Input Sanitization sanitizeObject should handle arrays within objects" name="Input Sanitization sanitizeObject should handle arrays within objects" time="0.001">
    </testcase>
    <testcase classname="Input Sanitization sanitizeObject should handle null and undefined values" name="Input Sanitization sanitizeObject should handle null and undefined values" time="0.005">
    </testcase>
    <testcase classname="Input Sanitization sanitizeArray should sanitize string elements in arrays" name="Input Sanitization sanitizeArray should sanitize string elements in arrays" time="0.002">
    </testcase>
    <testcase classname="Input Sanitization sanitizeArray should handle non-array input" name="Input Sanitization sanitizeArray should handle non-array input" time="0.001">
    </testcase>
    <testcase classname="Input Sanitization InputValidator isValidId should accept valid IDs" name="Input Sanitization InputValidator isValidId should accept valid IDs" time="0">
    </testcase>
    <testcase classname="Input Sanitization InputValidator isValidId should reject invalid IDs" name="Input Sanitization InputValidator isValidId should reject invalid IDs" time="0">
    </testcase>
    <testcase classname="Input Sanitization InputValidator isValidEmail should accept valid emails" name="Input Sanitization InputValidator isValidEmail should accept valid emails" time="0.001">
    </testcase>
    <testcase classname="Input Sanitization InputValidator isValidEmail should reject invalid emails" name="Input Sanitization InputValidator isValidEmail should reject invalid emails" time="0">
    </testcase>
    <testcase classname="Input Sanitization InputValidator isValidUrl should accept valid URLs" name="Input Sanitization InputValidator isValidUrl should accept valid URLs" time="0">
    </testcase>
    <testcase classname="Input Sanitization InputValidator isValidUrl should reject invalid URLs" name="Input Sanitization InputValidator isValidUrl should reject invalid URLs" time="0.001">
    </testcase>
    <testcase classname="Input Sanitization InputValidator containsOnlySafeChars should accept safe text" name="Input Sanitization InputValidator containsOnlySafeChars should accept safe text" time="0">
    </testcase>
    <testcase classname="Input Sanitization InputValidator containsOnlySafeChars should reject potentially dangerous characters" name="Input Sanitization InputValidator containsOnlySafeChars should reject potentially dangerous characters" time="0">
    </testcase>
    <testcase classname="Input Sanitization InputValidator containsSqlInjectionPatterns should detect SQL injection attempts" name="Input Sanitization InputValidator containsSqlInjectionPatterns should detect SQL injection attempts" time="0.001">
    </testcase>
    <testcase classname="Input Sanitization InputValidator containsSqlInjectionPatterns should not flag normal text" name="Input Sanitization InputValidator containsSqlInjectionPatterns should not flag normal text" time="0">
    </testcase>
    <testcase classname="Input Sanitization InputValidator containsXssPatterns should detect XSS attempts" name="Input Sanitization InputValidator containsXssPatterns should detect XSS attempts" time="0">
    </testcase>
    <testcase classname="Input Sanitization InputValidator containsXssPatterns should not flag normal HTML" name="Input Sanitization InputValidator containsXssPatterns should not flag normal HTML" time="0.001">
    </testcase>
    <testcase classname="Input Sanitization Edge Cases and Security Tests should handle unicode and special characters" name="Input Sanitization Edge Cases and Security Tests should handle unicode and special characters" time="0">
    </testcase>
    <testcase classname="Input Sanitization Edge Cases and Security Tests should prevent script injection through encoded characters" name="Input Sanitization Edge Cases and Security Tests should prevent script injection through encoded characters" time="0">
    </testcase>
    <testcase classname="Input Sanitization Edge Cases and Security Tests should handle very long strings" name="Input Sanitization Edge Cases and Security Tests should handle very long strings" time="0.005">
    </testcase>
    <testcase classname="Input Sanitization Edge Cases and Security Tests should handle empty and whitespace-only strings" name="Input Sanitization Edge Cases and Security Tests should handle empty and whitespace-only strings" time="0.001">
    </testcase>
    <testcase classname="Input Sanitization Edge Cases and Security Tests should prevent style-based attacks" name="Input Sanitization Edge Cases and Security Tests should prevent style-based attacks" time="0.026">
    </testcase>
    <testcase classname="Input Sanitization SanitizationPresets should have different levels of strictness" name="Input Sanitization SanitizationPresets should have different levels of strictness" time="0.005">
    </testcase>
  </testsuite>
  <testsuite name="MCPServer Lifecycle Management" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:55" time="0.261" tests="9">
    <testcase classname="MCPServer Lifecycle Management Server Initialization should initialize server successfully" name="MCPServer Lifecycle Management Server Initialization should initialize server successfully" time="0.007">
    </testcase>
    <testcase classname="MCPServer Lifecycle Management Server Initialization should not allow initialization when not stopped" name="MCPServer Lifecycle Management Server Initialization should not allow initialization when not stopped" time="0.002">
    </testcase>
    <testcase classname="MCPServer Lifecycle Management Server Initialization should serve basic endpoint after initialization" name="MCPServer Lifecycle Management Server Initialization should serve basic endpoint after initialization" time="0.001">
    </testcase>
    <testcase classname="MCPServer Lifecycle Management Server Initialization should handle initialization errors gracefully" name="MCPServer Lifecycle Management Server Initialization should handle initialization errors gracefully" time="0.094">
    </testcase>
    <testcase classname="MCPServer Lifecycle Management Server Shutdown should shutdown server gracefully" name="MCPServer Lifecycle Management Server Shutdown should shutdown server gracefully" time="0.002">
    </testcase>
    <testcase classname="MCPServer Lifecycle Management Server Shutdown should handle shutdown when already stopped" name="MCPServer Lifecycle Management Server Shutdown should handle shutdown when already stopped" time="0.001">
    </testcase>
    <testcase classname="MCPServer Lifecycle Management Server Shutdown should close server endpoint after shutdown" name="MCPServer Lifecycle Management Server Shutdown should close server endpoint after shutdown" time="0.003">
    </testcase>
    <testcase classname="MCPServer Lifecycle Management Server State Management should track state transitions correctly" name="MCPServer Lifecycle Management Server State Management should track state transitions correctly" time="0.002">
    </testcase>
    <testcase classname="MCPServer Lifecycle Management Configuration Handling should use custom configuration during initialization" name="MCPServer Lifecycle Management Configuration Handling should use custom configuration during initialization" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="JSON-RPC 2.0 Message Validation" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:56" time="0.204" tests="18">
    <testcase classname="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Structure Compliance should process a valid request and return a valid response" name="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Structure Compliance should process a valid request and return a valid response" time="0.005">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Structure Compliance should include correct jsonrpc version in all responses" name="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Structure Compliance should include correct jsonrpc version in all responses" time="0.002">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Structure Compliance should handle initialize request correctly" name="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Structure Compliance should handle initialize request correctly" time="0.002">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should return Invalid Request (-32600) for missing jsonrpc field" name="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should return Invalid Request (-32600) for missing jsonrpc field" time="0.005">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should return Invalid Request (-32600) for wrong jsonrpc version" name="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should return Invalid Request (-32600) for wrong jsonrpc version" time="0.002">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should return Invalid Request (-32600) for missing method field" name="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should return Invalid Request (-32600) for missing method field" time="0.002">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should return Invalid Request (-32600) for non-string method" name="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should return Invalid Request (-32600) for non-string method" time="0.002">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should return Method Not Found (-32601) error" name="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should return Method Not Found (-32601) error" time="0.001">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should return Internal Error (-32603) for invalid params on tools/call" name="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should return Internal Error (-32603) for invalid params on tools/call" time="0.006">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should handle null and undefined messages" name="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should handle null and undefined messages" time="0.002">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should handle empty object message" name="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should handle empty object message" time="0.002">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should handle array message (not allowed)" name="JSON-RPC 2.0 Message Validation JSON-RPC 2.0 Error Handling should handle array message (not allowed)" time="0.001">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation MCP Protocol Specific Validation should handle tools/list request correctly" name="JSON-RPC 2.0 Message Validation MCP Protocol Specific Validation should handle tools/list request correctly" time="0.002">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation MCP Protocol Specific Validation should handle prompts/list request correctly" name="JSON-RPC 2.0 Message Validation MCP Protocol Specific Validation should handle prompts/list request correctly" time="0.001">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation MCP Protocol Specific Validation should handle resources/list request correctly" name="JSON-RPC 2.0 Message Validation MCP Protocol Specific Validation should handle resources/list request correctly" time="0.004">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation MCP Protocol Specific Validation should handle missing optional params field" name="JSON-RPC 2.0 Message Validation MCP Protocol Specific Validation should handle missing optional params field" time="0.001">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation MCP Protocol Specific Validation should preserve request ID in response" name="JSON-RPC 2.0 Message Validation MCP Protocol Specific Validation should preserve request ID in response" time="0.002">
    </testcase>
    <testcase classname="JSON-RPC 2.0 Message Validation MCP Protocol Specific Validation should handle special characters in method names" name="JSON-RPC 2.0 Message Validation MCP Protocol Specific Validation should handle special characters in method names" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="Error Handler Middleware" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:56" time="0.201" tests="23">
    <testcase classname="Error Handler Middleware globalErrorHandler should handle standard errors with default values" name="Error Handler Middleware globalErrorHandler should handle standard errors with default values" time="0.002">
    </testcase>
    <testcase classname="Error Handler Middleware globalErrorHandler should handle structured errors" name="Error Handler Middleware globalErrorHandler should handle structured errors" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware globalErrorHandler should include error details in non-production environment" name="Error Handler Middleware globalErrorHandler should include error details in non-production environment" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware globalErrorHandler should not include error details in production environment" name="Error Handler Middleware globalErrorHandler should not include error details in production environment" time="0">
    </testcase>
    <testcase classname="Error Handler Middleware globalErrorHandler should categorize network errors correctly" name="Error Handler Middleware globalErrorHandler should categorize network errors correctly" time="0">
    </testcase>
    <testcase classname="Error Handler Middleware globalErrorHandler should categorize validation errors correctly" name="Error Handler Middleware globalErrorHandler should categorize validation errors correctly" time="0.005">
    </testcase>
    <testcase classname="Error Handler Middleware globalErrorHandler should categorize authentication errors correctly" name="Error Handler Middleware globalErrorHandler should categorize authentication errors correctly" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware globalErrorHandler should categorize authorization errors correctly" name="Error Handler Middleware globalErrorHandler should categorize authorization errors correctly" time="0">
    </testcase>
    <testcase classname="Error Handler Middleware globalErrorHandler should categorize rate limit errors correctly" name="Error Handler Middleware globalErrorHandler should categorize rate limit errors correctly" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware globalErrorHandler should categorize timeout errors correctly (as network errors due to categorization logic)" name="Error Handler Middleware globalErrorHandler should categorize timeout errors correctly (as network errors due to categorization logic)" time="0">
    </testcase>
    <testcase classname="Error Handler Middleware globalErrorHandler should categorize pure timeout errors correctly" name="Error Handler Middleware globalErrorHandler should categorize pure timeout errors correctly" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware globalErrorHandler should handle errors without messages" name="Error Handler Middleware globalErrorHandler should handle errors without messages" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware asyncErrorHandler should catch and pass async errors to next middleware" name="Error Handler Middleware asyncErrorHandler should catch and pass async errors to next middleware" time="0">
    </testcase>
    <testcase classname="Error Handler Middleware asyncErrorHandler should handle successful async functions" name="Error Handler Middleware asyncErrorHandler should handle successful async functions" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware asyncErrorHandler should handle non-async functions that return values" name="Error Handler Middleware asyncErrorHandler should handle non-async functions that return values" time="0">
    </testcase>
    <testcase classname="Error Handler Middleware notFoundHandler should create and pass a 404 structured error" name="Error Handler Middleware notFoundHandler should create and pass a 404 structured error" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware notFoundHandler should handle requests without requestId" name="Error Handler Middleware notFoundHandler should handle requests without requestId" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware setupProcessErrorHandlers should setup unhandledRejection and uncaughtException handlers" name="Error Handler Middleware setupProcessErrorHandlers should setup unhandledRejection and uncaughtException handlers" time="0">
    </testcase>
    <testcase classname="Error Handler Middleware setupProcessErrorHandlers should setup handlers with custom logger" name="Error Handler Middleware setupProcessErrorHandlers should setup handlers with custom logger" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware setupProcessErrorHandlers should handle unhandled rejection with logger" name="Error Handler Middleware setupProcessErrorHandlers should handle unhandled rejection with logger" time="0.001">
    </testcase>
    <testcase classname="Error Handler Middleware setupProcessErrorHandlers should handle unhandled rejection without logger" name="Error Handler Middleware setupProcessErrorHandlers should handle unhandled rejection without logger" time="0.003">
    </testcase>
    <testcase classname="Error Handler Middleware setupProcessErrorHandlers should handle uncaught exception with logger" name="Error Handler Middleware setupProcessErrorHandlers should handle uncaught exception with logger" time="0.015">
    </testcase>
    <testcase classname="Error Handler Middleware setupProcessErrorHandlers should handle uncaught exception without logger" name="Error Handler Middleware setupProcessErrorHandlers should handle uncaught exception without logger" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="Index.ts Entry Point" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:56" time="0.198" tests="16">
    <testcase classname="Index.ts Entry Point main function should start server with default configuration" name="Index.ts Entry Point main function should start server with default configuration" time="0.007">
    </testcase>
    <testcase classname="Index.ts Entry Point main function should start server with custom environment configuration" name="Index.ts Entry Point main function should start server with custom environment configuration" time="0.001">
    </testcase>
    <testcase classname="Index.ts Entry Point main function should handle invalid PORT environment variable" name="Index.ts Entry Point main function should handle invalid PORT environment variable" time="0">
    </testcase>
    <testcase classname="Index.ts Entry Point main function should handle server initialization failure" name="Index.ts Entry Point main function should handle server initialization failure" time="0.006">
    </testcase>
    <testcase classname="Index.ts Entry Point main function should log server configuration and state" name="Index.ts Entry Point main function should log server configuration and state" time="0.001">
    </testcase>
    <testcase classname="Index.ts Entry Point process error handlers should register error handlers when module is imported" name="Index.ts Entry Point process error handlers should register error handlers when module is imported" time="0">
    </testcase>
    <testcase classname="Index.ts Entry Point module exports should export MCPServer class" name="Index.ts Entry Point module exports should export MCPServer class" time="0.001">
    </testcase>
    <testcase classname="Index.ts Entry Point module exports should export main function as default" name="Index.ts Entry Point module exports should export main function as default" time="0">
    </testcase>
    <testcase classname="Index.ts Entry Point configuration parsing should parse PORT as integer" name="Index.ts Entry Point configuration parsing should parse PORT as integer" time="0.001">
    </testcase>
    <testcase classname="Index.ts Entry Point configuration parsing should parse DEBUG as boolean true" name="Index.ts Entry Point configuration parsing should parse DEBUG as boolean true" time="0">
    </testcase>
    <testcase classname="Index.ts Entry Point configuration parsing should parse DEBUG as boolean false for non-true values" name="Index.ts Entry Point configuration parsing should parse DEBUG as boolean false for non-true values" time="0.003">
    </testcase>
    <testcase classname="Index.ts Entry Point configuration parsing should handle missing environment variables gracefully" name="Index.ts Entry Point configuration parsing should handle missing environment variables gracefully" time="0.001">
    </testcase>
    <testcase classname="Index.ts Entry Point error scenarios should handle server creation failure" name="Index.ts Entry Point error scenarios should handle server creation failure" time="0.004">
    </testcase>
    <testcase classname="Index.ts Entry Point error scenarios should handle getConfig failure" name="Index.ts Entry Point error scenarios should handle getConfig failure" time="0.001">
    </testcase>
    <testcase classname="Index.ts Entry Point error scenarios should handle getState failure" name="Index.ts Entry Point error scenarios should handle getState failure" time="0.001">
    </testcase>
    <testcase classname="Index.ts Entry Point error scenarios should handle getConnectionCount failure" name="Index.ts Entry Point error scenarios should handle getConnectionCount failure" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="FormCreationTool" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:56" time="0.181" tests="13">
    <testcase classname="FormCreationTool constructor should create an instance with correct name and description" name="FormCreationTool constructor should create an instance with correct name and description" time="0.002">
    </testcase>
    <testcase classname="FormCreationTool constructor should initialize all required services" name="FormCreationTool constructor should initialize all required services" time="0.001">
    </testcase>
    <testcase classname="FormCreationTool execute - template creation should create form from template successfully" name="FormCreationTool execute - template creation should create form from template successfully" time="0.001">
    </testcase>
    <testcase classname="FormCreationTool execute - template creation should create form from template without custom title" name="FormCreationTool execute - template creation should create form from template without custom title" time="0">
    </testcase>
    <testcase classname="FormCreationTool execute - template creation should throw error when template not found" name="FormCreationTool execute - template creation should throw error when template not found" time="0.007">
    </testcase>
    <testcase classname="FormCreationTool execute - natural language creation should create form from natural language prompt successfully" name="FormCreationTool execute - natural language creation should create form from natural language prompt successfully" time="0.001">
    </testcase>
    <testcase classname="FormCreationTool execute - natural language creation should create form without custom title override" name="FormCreationTool execute - natural language creation should create form without custom title override" time="0">
    </testcase>
    <testcase classname="FormCreationTool execute - error scenarios should throw error when neither templateId nor naturalLanguagePrompt provided" name="FormCreationTool execute - error scenarios should throw error when neither templateId nor naturalLanguagePrompt provided" time="0.001">
    </testcase>
    <testcase classname="FormCreationTool execute - error scenarios should propagate API errors from createForm" name="FormCreationTool execute - error scenarios should propagate API errors from createForm" time="0.001">
    </testcase>
    <testcase classname="FormCreationTool execute - error scenarios should handle both templateId and naturalLanguagePrompt (prioritize template)" name="FormCreationTool execute - error scenarios should handle both templateId and naturalLanguagePrompt (prioritize template)" time="0.001">
    </testcase>
    <testcase classname="FormCreationTool execute - edge cases should handle empty string values gracefully" name="FormCreationTool execute - edge cases should handle empty string values gracefully" time="0.003">
    </testcase>
    <testcase classname="FormCreationTool execute - edge cases should handle null/undefined form URL from API" name="FormCreationTool execute - edge cases should handle null/undefined form URL from API" time="0.001">
    </testcase>
    <testcase classname="FormCreationTool logging should log execution arguments" name="FormCreationTool logging should log execution arguments" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="ApiKeyService" errors="0" failures="2" skipped="0" timestamp="2025-06-13T13:21:57" time="0.185" tests="35">
    <testcase classname="ApiKeyService createApiKey should create a new API key with valid input" name="ApiKeyService createApiKey should create a new API key with valid input" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService createApiKey should create API key without optional fields" name="ApiKeyService createApiKey should create API key without optional fields" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService createApiKey should throw error for invalid input" name="ApiKeyService createApiKey should throw error for invalid input" time="0.013">
    </testcase>
    <testcase classname="ApiKeyService validateApiKey should validate a valid API key" name="ApiKeyService validateApiKey should validate a valid API key" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService validateApiKey should reject invalid API key format" name="ApiKeyService validateApiKey should reject invalid API key format" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService validateApiKey should reject non-existent API key" name="ApiKeyService validateApiKey should reject non-existent API key" time="0.002">
    </testcase>
    <testcase classname="ApiKeyService validateApiKey should reject revoked API key" name="ApiKeyService validateApiKey should reject revoked API key" time="0">
    </testcase>
    <testcase classname="ApiKeyService validateApiKey should reject expired API key" name="ApiKeyService validateApiKey should reject expired API key" time="0.002">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;API key expired&quot;
Received: &quot;Invalid API key format&quot;
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/services/__tests__/api-key-service.test.ts:165:34)</failure>
    </testcase>
    <testcase classname="ApiKeyService validateApiKey should reject key that exceeded usage limit" name="ApiKeyService validateApiKey should reject key that exceeded usage limit" time="0.001">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: true
Received: false
    at Object.&lt;anonymous&gt; (/Users/cryophobic/dev/projects/tally-mcp/src/services/__tests__/api-key-service.test.ts:180:35)</failure>
    </testcase>
    <testcase classname="ApiKeyService validateApiKey should reject IP not in whitelist" name="ApiKeyService validateApiKey should reject IP not in whitelist" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService validateApiKey should accept IP in whitelist" name="ApiKeyService validateApiKey should accept IP in whitelist" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService listApiKeys should list all API keys" name="ApiKeyService listApiKeys should list all API keys" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService listApiKeys should filter by status" name="ApiKeyService listApiKeys should filter by status" time="0">
    </testcase>
    <testcase classname="ApiKeyService updateApiKey should update API key fields" name="ApiKeyService updateApiKey should update API key fields" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService updateApiKey should return null for non-existent key" name="ApiKeyService updateApiKey should return null for non-existent key" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService rotateApiKey should rotate API key and return new key" name="ApiKeyService rotateApiKey should rotate API key and return new key" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService rotateApiKey should invalidate old key after rotation" name="ApiKeyService rotateApiKey should invalidate old key after rotation" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService rotateApiKey should return null for non-existent key" name="ApiKeyService rotateApiKey should return null for non-existent key" time="0">
    </testcase>
    <testcase classname="ApiKeyService hasRequiredScopes should return true for admin scope" name="ApiKeyService hasRequiredScopes should return true for admin scope" time="0.003">
    </testcase>
    <testcase classname="ApiKeyService hasRequiredScopes should return true when all required scopes are present" name="ApiKeyService hasRequiredScopes should return true when all required scopes are present" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService hasRequiredScopes should return false when required scopes are missing" name="ApiKeyService hasRequiredScopes should return false when required scopes are missing" time="0">
    </testcase>
    <testcase classname="ApiKeyService getApiKeyStats should return correct statistics" name="ApiKeyService getApiKeyStats should return correct statistics" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService setupRotation should setup rotation configuration" name="ApiKeyService setupRotation should setup rotation configuration" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService setupRotation should return null for non-existent key" name="ApiKeyService setupRotation should return null for non-existent key" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService getUsageLogs should return usage logs for a key" name="ApiKeyService getUsageLogs should return usage logs for a key" time="0.001">
    </testcase>
    <testcase classname="ApiKeyService getUsageLogs should limit number of logs returned" name="ApiKeyService getUsageLogs should limit number of logs returned" time="0">
    </testcase>
    <testcase classname="CryptoUtils generateApiKey should generate API key with default options" name="CryptoUtils generateApiKey should generate API key with default options" time="0.001">
    </testcase>
    <testcase classname="CryptoUtils generateApiKey should generate API key with custom options" name="CryptoUtils generateApiKey should generate API key with custom options" time="0">
    </testcase>
    <testcase classname="CryptoUtils generateApiKey should throw error for invalid length" name="CryptoUtils generateApiKey should throw error for invalid length" time="0.003">
    </testcase>
    <testcase classname="CryptoUtils validateKeyFormat should validate correct key format" name="CryptoUtils validateKeyFormat should validate correct key format" time="0.001">
    </testcase>
    <testcase classname="CryptoUtils validateKeyFormat should reject invalid key format" name="CryptoUtils validateKeyFormat should reject invalid key format" time="0.001">
    </testcase>
    <testcase classname="CryptoUtils hashApiKey should generate consistent hash for same key" name="CryptoUtils hashApiKey should generate consistent hash for same key" time="0">
    </testcase>
    <testcase classname="CryptoUtils hashApiKey should generate different hashes for different keys" name="CryptoUtils hashApiKey should generate different hashes for different keys" time="0.001">
    </testcase>
    <testcase classname="CryptoUtils maskSensitiveData should mask data correctly" name="CryptoUtils maskSensitiveData should mask data correctly" time="0">
    </testcase>
    <testcase classname="CryptoUtils maskSensitiveData should handle short data" name="CryptoUtils maskSensitiveData should handle short data" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="Error Handling and Logging Infrastructure" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:57" time="0.169" tests="13">
    <testcase classname="Error Handling and Logging Infrastructure Structured Logging should support different log levels" name="Error Handling and Logging Infrastructure Structured Logging should support different log levels" time="0.003">
    </testcase>
    <testcase classname="Error Handling and Logging Infrastructure Structured Logging should redact sensitive information" name="Error Handling and Logging Infrastructure Structured Logging should redact sensitive information" time="0.001">
    </testcase>
    <testcase classname="Error Handling and Logging Infrastructure Structured Logging should respect log level configuration" name="Error Handling and Logging Infrastructure Structured Logging should respect log level configuration" time="0.001">
    </testcase>
    <testcase classname="Error Handling and Logging Infrastructure Error Metrics should track error metrics" name="Error Handling and Logging Infrastructure Error Metrics should track error metrics" time="0.001">
    </testcase>
    <testcase classname="Error Handling and Logging Infrastructure Error Metrics should initialize with zero errors" name="Error Handling and Logging Infrastructure Error Metrics should initialize with zero errors" time="0">
    </testcase>
    <testcase classname="Error Handling and Logging Infrastructure Logger Configuration should merge logger config with defaults" name="Error Handling and Logging Infrastructure Logger Configuration should merge logger config with defaults" time="0.003">
    </testcase>
    <testcase classname="Error Handling and Logging Infrastructure Logger Configuration should have appropriate sensitive fields configured" name="Error Handling and Logging Infrastructure Logger Configuration should have appropriate sensitive fields configured" time="0.001">
    </testcase>
    <testcase classname="Error Handling and Logging Infrastructure Error Categories should have all required error categories" name="Error Handling and Logging Infrastructure Error Categories should have all required error categories" time="0.001">
    </testcase>
    <testcase classname="Error Handling and Logging Infrastructure Integration with Health Monitoring should integrate error metrics with health monitoring" name="Error Handling and Logging Infrastructure Integration with Health Monitoring should integrate error metrics with health monitoring" time="0.002">
    </testcase>
    <testcase classname="Error Handling and Logging Infrastructure Request Context Preservation should handle request ID generation" name="Error Handling and Logging Infrastructure Request Context Preservation should handle request ID generation" time="0.001">
    </testcase>
    <testcase classname="Error Handling and Logging Infrastructure Server State Integration should maintain consistent state with enhanced logging" name="Error Handling and Logging Infrastructure Server State Integration should maintain consistent state with enhanced logging" time="0.001">
    </testcase>
    <testcase classname="Error Handling and Logging Infrastructure Backward Compatibility should maintain compatibility with existing functionality" name="Error Handling and Logging Infrastructure Backward Compatibility should maintain compatibility with existing functionality" time="0.001">
    </testcase>
    <testcase classname="Error Handling and Logging Infrastructure Backward Compatibility should support debug mode configuration" name="Error Handling and Logging Infrastructure Backward Compatibility should support debug mode configuration" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="Environment Configuration" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:57" time="0.152" tests="13">
    <testcase classname="Environment Configuration should successfully parse valid environment variables" name="Environment Configuration should successfully parse valid environment variables" time="0.002">
    </testcase>
    <testcase classname="Environment Configuration should use default NODE_ENV when not provided" name="Environment Configuration should use default NODE_ENV when not provided" time="0.002">
    </testcase>
    <testcase classname="Environment Configuration should accept test environment" name="Environment Configuration should accept test environment" time="0.004">
    </testcase>
    <testcase classname="Environment Configuration should accept development environment" name="Environment Configuration should accept development environment" time="0.002">
    </testcase>
    <testcase classname="Environment Configuration should throw error when TALLY_API_KEY is missing" name="Environment Configuration should throw error when TALLY_API_KEY is missing" time="0.006">
    </testcase>
    <testcase classname="Environment Configuration should throw error when TALLY_API_KEY is empty" name="Environment Configuration should throw error when TALLY_API_KEY is empty" time="0.002">
    </testcase>
    <testcase classname="Environment Configuration should throw error when CLOUDFLARE_ACCOUNT_ID is missing" name="Environment Configuration should throw error when CLOUDFLARE_ACCOUNT_ID is missing" time="0.003">
    </testcase>
    <testcase classname="Environment Configuration should throw error when CLOUDFLARE_ACCOUNT_ID is empty" name="Environment Configuration should throw error when CLOUDFLARE_ACCOUNT_ID is empty" time="0.002">
    </testcase>
    <testcase classname="Environment Configuration should throw error when CLOUDFLARE_API_TOKEN is missing" name="Environment Configuration should throw error when CLOUDFLARE_API_TOKEN is missing" time="0.002">
    </testcase>
    <testcase classname="Environment Configuration should throw error when CLOUDFLARE_API_TOKEN is empty" name="Environment Configuration should throw error when CLOUDFLARE_API_TOKEN is empty" time="0.002">
    </testcase>
    <testcase classname="Environment Configuration should throw error when NODE_ENV is invalid" name="Environment Configuration should throw error when NODE_ENV is invalid" time="0.003">
    </testcase>
    <testcase classname="Environment Configuration should throw error when all required variables are missing" name="Environment Configuration should throw error when all required variables are missing" time="0.002">
    </testcase>
    <testcase classname="Environment Configuration should handle extra environment variables gracefully" name="Environment Configuration should handle extra environment variables gracefully" time="0.004">
    </testcase>
  </testsuite>
  <testsuite name="FormModificationParser" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:57" time="0.157" tests="50">
    <testcase classname="FormModificationParser Add Field Commands should parse &quot;add text field&quot; command" name="FormModificationParser Add Field Commands should parse &quot;add text field&quot; command" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Add Field Commands should parse &quot;add a new email field&quot; command" name="FormModificationParser Add Field Commands should parse &quot;add a new email field&quot; command" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Add Field Commands should parse &quot;add phone number field&quot; command" name="FormModificationParser Add Field Commands should parse &quot;add phone number field&quot; command" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Add Field Commands should handle unknown field types" name="FormModificationParser Add Field Commands should handle unknown field types" time="0">
    </testcase>
    <testcase classname="FormModificationParser Remove Field Commands should parse &quot;remove question 3&quot; command" name="FormModificationParser Remove Field Commands should parse &quot;remove question 3&quot; command" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Remove Field Commands should parse &quot;delete field number 5&quot; command" name="FormModificationParser Remove Field Commands should parse &quot;delete field number 5&quot; command" time="0">
    </testcase>
    <testcase classname="FormModificationParser Remove Field Commands should parse &quot;remove the email field&quot; command" name="FormModificationParser Remove Field Commands should parse &quot;remove the email field&quot; command" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Requirement Commands should parse &quot;make field 2 required&quot; command" name="FormModificationParser Requirement Commands should parse &quot;make field 2 required&quot; command" time="0">
    </testcase>
    <testcase classname="FormModificationParser Requirement Commands should parse &quot;make the email field required&quot; command" name="FormModificationParser Requirement Commands should parse &quot;make the email field required&quot; command" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Requirement Commands should parse &quot;make question 1 optional&quot; command" name="FormModificationParser Requirement Commands should parse &quot;make question 1 optional&quot; command" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Form Update Commands should parse update title command" name="FormModificationParser Form Update Commands should parse update title command" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Form Update Commands should parse update description command" name="FormModificationParser Form Update Commands should parse update description command" time="0.003">
    </testcase>
    <testcase classname="FormModificationParser Reorder Commands should parse &quot;move field 3 to position 1&quot; command" name="FormModificationParser Reorder Commands should parse &quot;move field 3 to position 1&quot; command" time="0">
    </testcase>
    <testcase classname="FormModificationParser Reorder Commands should parse &quot;move question 2 to 5&quot; command" name="FormModificationParser Reorder Commands should parse &quot;move question 2 to 5&quot; command" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Option Commands should parse add option command" name="FormModificationParser Option Commands should parse add option command" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Ambiguous Commands should handle completely unknown commands" name="FormModificationParser Ambiguous Commands should handle completely unknown commands" time="0">
    </testcase>
    <testcase classname="FormModificationParser Ambiguous Commands should detect low confidence commands as ambiguous" name="FormModificationParser Ambiguous Commands should detect low confidence commands as ambiguous" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Multiple Commands should parse multiple commands separated by &quot;and&quot;" name="FormModificationParser Multiple Commands should parse multiple commands separated by &quot;and&quot;" time="0">
    </testcase>
    <testcase classname="FormModificationParser Multiple Commands should parse multiple commands separated by commas" name="FormModificationParser Multiple Commands should parse multiple commands separated by commas" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Multiple Commands should parse multiple commands separated by &quot;then&quot;" name="FormModificationParser Multiple Commands should parse multiple commands separated by &quot;then&quot;" time="0">
    </testcase>
    <testcase classname="FormModificationParser Clarification Features should need clarification for low confidence commands" name="FormModificationParser Clarification Features should need clarification for low confidence commands" time="0">
    </testcase>
    <testcase classname="FormModificationParser Clarification Features should generate suggestions for add commands" name="FormModificationParser Clarification Features should generate suggestions for add commands" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Clarification Features should generate suggestions for required commands" name="FormModificationParser Clarification Features should generate suggestions for required commands" time="0">
    </testcase>
    <testcase classname="FormModificationParser Clarification Features should generate suggestions for remove commands" name="FormModificationParser Clarification Features should generate suggestions for remove commands" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;text&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;text&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;input&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;input&quot; to correct QuestionType" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;textarea&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;textarea&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;long text&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;long text&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;email&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;email&quot; to correct QuestionType" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;email address&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;email address&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;number&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;number&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;numeric&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;numeric&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;phone&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;phone&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;phone number&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;phone number&quot; to correct QuestionType" time="0.002">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;url&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;url&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;website&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;website&quot; to correct QuestionType" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;date&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;date&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;time&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;time&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;rating&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;rating&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;stars&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;stars&quot; to correct QuestionType" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;file&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;file&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;upload&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;upload&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;signature&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;signature&quot; to correct QuestionType" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;choice&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;choice&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;multiple choice&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;multiple choice&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;select&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;select&quot; to correct QuestionType" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;dropdown&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;dropdown&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;checkboxes&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;checkboxes&quot; to correct QuestionType" time="0">
    </testcase>
    <testcase classname="FormModificationParser Field Type Mapping should map &quot;scale&quot; to correct QuestionType" name="FormModificationParser Field Type Mapping should map &quot;scale&quot; to correct QuestionType" time="0.001">
    </testcase>
    <testcase classname="FormModificationParser Case Insensitivity should parse commands regardless of case" name="FormModificationParser Case Insensitivity should parse commands regardless of case" time="0">
    </testcase>
  </testsuite>
  <testsuite name="MCPServer Class Structure" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:57" time="0.156" tests="8">
    <testcase classname="MCPServer Class Structure should instantiate with default configuration" name="MCPServer Class Structure should instantiate with default configuration" time="0.001">
    </testcase>
    <testcase classname="MCPServer Class Structure should accept custom configuration" name="MCPServer Class Structure should accept custom configuration" time="0.004">
    </testcase>
    <testcase classname="MCPServer Class Structure should merge custom config with defaults" name="MCPServer Class Structure should merge custom config with defaults" time="0.001">
    </testcase>
    <testcase classname="MCPServer Class Structure should have correct initial state" name="MCPServer Class Structure should have correct initial state" time="0">
    </testcase>
    <testcase classname="MCPServer Class Structure should handle server lifecycle methods" name="MCPServer Class Structure should handle server lifecycle methods" time="0.002">
    </testcase>
    <testcase classname="MCPServer Class Structure should return immutable config copy" name="MCPServer Class Structure should return immutable config copy" time="0.001">
    </testcase>
    <testcase classname="Default Configuration should have sensible defaults" name="Default Configuration should have sensible defaults" time="0">
    </testcase>
    <testcase classname="ServerState Enum should have all expected states" name="ServerState Enum should have all expected states" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="FormPublicationService" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:21:57" time="0.152" tests="21">
    <testcase classname="FormPublicationService getPublicationSettings should return default publication settings for a form" name="FormPublicationService getPublicationSettings should return default publication settings for a form" time="0.002">
    </testcase>
    <testcase classname="FormPublicationService updatePublicationSettings should update publication settings for a form" name="FormPublicationService updatePublicationSettings should update publication settings for a form" time="0.001">
    </testcase>
    <testcase classname="FormPublicationService publishForm should publish a form with default public visibility" name="FormPublicationService publishForm should publish a form with default public visibility" time="0.001">
    </testcase>
    <testcase classname="FormPublicationService publishForm should publish a form with password protection" name="FormPublicationService publishForm should publish a form with password protection" time="0.001">
    </testcase>
    <testcase classname="FormPublicationService unpublishForm should unpublish a form" name="FormPublicationService unpublishForm should unpublish a form" time="0">
    </testcase>
    <testcase classname="FormPublicationService generateEmbedCode should generate embed code with default settings" name="FormPublicationService generateEmbedCode should generate embed code with default settings" time="0.001">
    </testcase>
    <testcase classname="FormPublicationService generateEmbedCode should generate embed code with custom settings" name="FormPublicationService generateEmbedCode should generate embed code with custom settings" time="0.001">
    </testcase>
    <testcase classname="FormPublicationService generateShareLink should generate a standard share link" name="FormPublicationService generateShareLink should generate a standard share link" time="0.004">
    </testcase>
    <testcase classname="FormPublicationService generateShareLink should generate a password-protected share link with expiration" name="FormPublicationService generateShareLink should generate a password-protected share link with expiration" time="0.001">
    </testcase>
    <testcase classname="FormPublicationService generateShareLink should generate a share link with custom slug" name="FormPublicationService generateShareLink should generate a share link with custom slug" time="0.001">
    </testcase>
    <testcase classname="FormPublicationService getShareLinks should return empty array for forms with no share links" name="FormPublicationService getShareLinks should return empty array for forms with no share links" time="0.001">
    </testcase>
    <testcase classname="FormPublicationService updateShareLink should update a share link" name="FormPublicationService updateShareLink should update a share link" time="0">
    </testcase>
    <testcase classname="FormPublicationService deactivateShareLink should deactivate a share link" name="FormPublicationService deactivateShareLink should deactivate a share link" time="0.001">
    </testcase>
    <testcase classname="FormPublicationService getFormSharingStats should return default sharing statistics" name="FormPublicationService getFormSharingStats should return default sharing statistics" time="0.001">
    </testcase>
    <testcase classname="FormPublicationService getFormAnalytics should return analytics data for different periods" name="FormPublicationService getFormAnalytics should return analytics data for different periods" time="0.002">
    </testcase>
    <testcase classname="FormPublicationService performBulkOperation should perform bulk publish operation" name="FormPublicationService performBulkOperation should perform bulk publish operation" time="0.001">
    </testcase>
    <testcase classname="FormPublicationService performBulkOperation should handle bulk operation failures" name="FormPublicationService performBulkOperation should handle bulk operation failures" time="0.001">
    </testcase>
    <testcase classname="FormPublicationService validateFormForPublication should validate a form successfully" name="FormPublicationService validateFormForPublication should validate a form successfully" time="0">
    </testcase>
    <testcase classname="FormPublicationService validateFormForPublication should return validation errors for invalid form" name="FormPublicationService validateFormForPublication should return validation errors for invalid form" time="0">
    </testcase>
    <testcase classname="FormPublicationService validateFormForPublication should handle form not found" name="FormPublicationService validateFormForPublication should handle form not found" time="0.003">
    </testcase>
    <testcase classname="FormPublicationService validateFormForPublication should handle API errors gracefully" name="FormPublicationService validateFormForPublication should handle API errors gracefully" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Tally API Client - Error Handling" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:44" time="0.251" tests="6">
    <testcase classname="Tally API Client - Error Handling should handle 401 Unauthorized errors" name="Tally API Client - Error Handling should handle 401 Unauthorized errors" time="0.037">
    </testcase>
    <testcase classname="Tally API Client - Error Handling should handle 403 Forbidden errors" name="Tally API Client - Error Handling should handle 403 Forbidden errors" time="0.001">
    </testcase>
    <testcase classname="Tally API Client - Error Handling should handle 404 Not Found errors" name="Tally API Client - Error Handling should handle 404 Not Found errors" time="0">
    </testcase>
    <testcase classname="Tally API Client - Error Handling should handle 422 Unprocessable Entity errors" name="Tally API Client - Error Handling should handle 422 Unprocessable Entity errors" time="0.001">
    </testcase>
    <testcase classname="Tally API Client - Error Handling should handle 429 Rate Limit errors" name="Tally API Client - Error Handling should handle 429 Rate Limit errors" time="0.001">
    </testcase>
    <testcase classname="Tally API Client - Error Handling should handle 500 Server errors" name="Tally API Client - Error Handling should handle 500 Server errors" time="0.01">
    </testcase>
  </testsuite>
  <testsuite name="FormPermissionManager" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:44" time="0.167" tests="9">
    <testcase classname="FormPermissionManager setFormPermission should call FormPermissionService.setFormPermission with correct parameters" name="FormPermissionManager setFormPermission should call FormPermissionService.setFormPermission with correct parameters" time="0.003">
    </testcase>
    <testcase classname="FormPermissionManager updateFormPermission should call FormPermissionService.updateFormPermission with correct parameters" name="FormPermissionManager updateFormPermission should call FormPermissionService.updateFormPermission with correct parameters" time="0.001">
    </testcase>
    <testcase classname="FormPermissionManager removeFormPermission should call FormPermissionService.removeFormPermission and return success status" name="FormPermissionManager removeFormPermission should call FormPermissionService.removeFormPermission and return success status" time="0.001">
    </testcase>
    <testcase classname="FormPermissionManager setBulkFormPermissions should create bulk permission object and call service" name="FormPermissionManager setBulkFormPermissions should create bulk permission object and call service" time="0.001">
    </testcase>
    <testcase classname="FormPermissionManager getEffectivePermission should get workspace details and call service with workspace role" name="FormPermissionManager getEffectivePermission should get workspace details and call service with workspace role" time="0.002">
    </testcase>
    <testcase classname="FormPermissionManager canPerformAction should validate access and return boolean result" name="FormPermissionManager canPerformAction should validate access and return boolean result" time="0.001">
    </testcase>
    <testcase classname="FormPermissionManager inheritWorkspacePermissions should map workspace role to access level" name="FormPermissionManager inheritWorkspacePermissions should map workspace role to access level" time="0.001">
    </testcase>
    <testcase classname="FormPermissionManager overrideWorkspaceInheritance should set form permission with inheritFromWorkspace false" name="FormPermissionManager overrideWorkspaceInheritance should set form permission with inheritFromWorkspace false" time="0.001">
    </testcase>
    <testcase classname="FormPermissionManager getFormPermissionSummary should combine permissions and settings into a summary" name="FormPermissionManager getFormPermissionSummary should combine permissions and settings into a summary" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="TemplateTool" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:44" time="0.15" tests="5">
    <testcase classname="TemplateTool execute should call listTemplates for the &apos;list&apos; action" name="TemplateTool execute should call listTemplates for the &apos;list&apos; action" time="0.001">
    </testcase>
    <testcase classname="TemplateTool execute should call useTemplate for the &apos;use&apos; action" name="TemplateTool execute should call useTemplate for the &apos;use&apos; action" time="0.001">
    </testcase>
    <testcase classname="TemplateTool execute should call customizeTemplate for the &apos;customize&apos; action" name="TemplateTool execute should call customizeTemplate for the &apos;customize&apos; action" time="0.001">
    </testcase>
    <testcase classname="TemplateTool execute should return an error if templateId is missing for the &apos;use&apos; action" name="TemplateTool execute should return an error if templateId is missing for the &apos;use&apos; action" time="0">
    </testcase>
    <testcase classname="TemplateTool execute should return an error for an invalid action" name="TemplateTool execute should return an error for an invalid action" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="FormModificationTool" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:45" time="0.149" tests="18">
    <testcase classname="FormModificationTool constructor should create an instance with correct name and description" name="FormModificationTool constructor should create an instance with correct name and description" time="0">
    </testcase>
    <testcase classname="FormModificationTool constructor should initialize with TallyApiService" name="FormModificationTool constructor should initialize with TallyApiService" time="0.001">
    </testcase>
    <testcase classname="FormModificationTool execute should return error when formId is not provided" name="FormModificationTool execute should return error when formId is not provided" time="0">
    </testcase>
    <testcase classname="FormModificationTool execute should return error when form is not found" name="FormModificationTool execute should return error when form is not found" time="0">
    </testcase>
    <testcase classname="FormModificationTool execute should successfully retrieve form when it exists" name="FormModificationTool execute should successfully retrieve form when it exists" time="0.001">
    </testcase>
    <testcase classname="FormModificationTool execute should handle API errors gracefully" name="FormModificationTool execute should handle API errors gracefully" time="0">
    </testcase>
    <testcase classname="FormModificationTool getForm should return form when API call succeeds" name="FormModificationTool getForm should return form when API call succeeds" time="0.001">
    </testcase>
    <testcase classname="FormModificationTool getForm should return null when API call fails" name="FormModificationTool getForm should return null when API call fails" time="0">
    </testcase>
    <testcase classname="FormModificationTool getForms should return forms list when API call succeeds" name="FormModificationTool getForms should return forms list when API call succeeds" time="0.003">
    </testcase>
    <testcase classname="FormModificationTool getForms should pass options to API service" name="FormModificationTool getForms should pass options to API service" time="0">
    </testcase>
    <testcase classname="FormModificationTool getForms should return null when API call fails" name="FormModificationTool getForms should return null when API call fails" time="0.001">
    </testcase>
    <testcase classname="FormModificationTool updateForm should return updated form when API call succeeds" name="FormModificationTool updateForm should return updated form when API call succeeds" time="0">
    </testcase>
    <testcase classname="FormModificationTool updateForm should return null when API call fails" name="FormModificationTool updateForm should return null when API call fails" time="0.001">
    </testcase>
    <testcase classname="FormModificationTool patchForm should return patched form when API call succeeds" name="FormModificationTool patchForm should return patched form when API call succeeds" time="0">
    </testcase>
    <testcase classname="FormModificationTool patchForm should return null when API call fails" name="FormModificationTool patchForm should return null when API call fails" time="0.001">
    </testcase>
    <testcase classname="FormModificationTool validateConnection should return true when connection is valid" name="FormModificationTool validateConnection should return true when connection is valid" time="0">
    </testcase>
    <testcase classname="FormModificationTool validateConnection should return false when connection fails" name="FormModificationTool validateConnection should return false when connection fails" time="0.001">
    </testcase>
    <testcase classname="FormModificationTool validateConnection should return false when API returns null" name="FormModificationTool validateConnection should return false when API returns null" time="0">
    </testcase>
  </testsuite>
  <testsuite name="FormModificationOperations" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:45" time="0.143" tests="26">
    <testcase classname="FormModificationOperations executeOperation should handle unknown operation types" name="FormModificationOperations executeOperation should handle unknown operation types" time="0.001">
    </testcase>
    <testcase classname="FormModificationOperations executeOperation should handle errors gracefully" name="FormModificationOperations executeOperation should handle errors gracefully" time="0">
    </testcase>
    <testcase classname="FormModificationOperations ADD_FIELD operation should add a text field successfully" name="FormModificationOperations ADD_FIELD operation should add a text field successfully" time="0.001">
    </testcase>
    <testcase classname="FormModificationOperations ADD_FIELD operation should add a choice field with options" name="FormModificationOperations ADD_FIELD operation should add a choice field with options" time="0.001">
    </testcase>
    <testcase classname="FormModificationOperations ADD_FIELD operation should generate default label when not provided" name="FormModificationOperations ADD_FIELD operation should generate default label when not provided" time="0">
    </testcase>
    <testcase classname="FormModificationOperations ADD_FIELD operation should fail when field type is missing" name="FormModificationOperations ADD_FIELD operation should fail when field type is missing" time="0">
    </testcase>
    <testcase classname="FormModificationOperations REMOVE_FIELD operation should remove field by number" name="FormModificationOperations REMOVE_FIELD operation should remove field by number" time="0.001">
    </testcase>
    <testcase classname="FormModificationOperations REMOVE_FIELD operation should remove field by label" name="FormModificationOperations REMOVE_FIELD operation should remove field by label" time="0">
    </testcase>
    <testcase classname="FormModificationOperations REMOVE_FIELD operation should fail when field is not found" name="FormModificationOperations REMOVE_FIELD operation should fail when field is not found" time="0">
    </testcase>
    <testcase classname="FormModificationOperations MAKE_REQUIRED/MAKE_OPTIONAL operations should make field required" name="FormModificationOperations MAKE_REQUIRED/MAKE_OPTIONAL operations should make field required" time="0.001">
    </testcase>
    <testcase classname="FormModificationOperations MAKE_REQUIRED/MAKE_OPTIONAL operations should make field optional" name="FormModificationOperations MAKE_REQUIRED/MAKE_OPTIONAL operations should make field optional" time="0">
    </testcase>
    <testcase classname="FormModificationOperations UPDATE_TITLE operation should update form title" name="FormModificationOperations UPDATE_TITLE operation should update form title" time="0">
    </testcase>
    <testcase classname="FormModificationOperations UPDATE_TITLE operation should fail when new title is missing" name="FormModificationOperations UPDATE_TITLE operation should fail when new title is missing" time="0.002">
    </testcase>
    <testcase classname="FormModificationOperations UPDATE_DESCRIPTION operation should update form description" name="FormModificationOperations UPDATE_DESCRIPTION operation should update form description" time="0">
    </testcase>
    <testcase classname="FormModificationOperations REORDER_FIELD operation should reorder field successfully" name="FormModificationOperations REORDER_FIELD operation should reorder field successfully" time="0.001">
    </testcase>
    <testcase classname="FormModificationOperations REORDER_FIELD operation should fail with invalid source position" name="FormModificationOperations REORDER_FIELD operation should fail with invalid source position" time="0">
    </testcase>
    <testcase classname="FormModificationOperations ADD_OPTION operation should add option to choice field" name="FormModificationOperations ADD_OPTION operation should add option to choice field" time="0.001">
    </testcase>
    <testcase classname="FormModificationOperations ADD_OPTION operation should fail when adding option to non-choice field" name="FormModificationOperations ADD_OPTION operation should fail when adding option to non-choice field" time="0">
    </testcase>
    <testcase classname="FormModificationOperations ADD_OPTION operation should fail when option text is missing" name="FormModificationOperations ADD_OPTION operation should fail when option text is missing" time="0.001">
    </testcase>
    <testcase classname="FormModificationOperations MODIFY_FIELD operation should modify field label" name="FormModificationOperations MODIFY_FIELD operation should modify field label" time="0">
    </testcase>
    <testcase classname="FormModificationOperations MODIFY_FIELD operation should modify multiple field properties" name="FormModificationOperations MODIFY_FIELD operation should modify multiple field properties" time="0.001">
    </testcase>
    <testcase classname="FormModificationOperations MODIFY_FIELD operation should fail when no modifications are specified" name="FormModificationOperations MODIFY_FIELD operation should fail when no modifications are specified" time="0">
    </testcase>
    <testcase classname="FormModificationOperations validateFormConfig should validate valid form configuration" name="FormModificationOperations validateFormConfig should validate valid form configuration" time="0.001">
    </testcase>
    <testcase classname="FormModificationOperations validateFormConfig should detect duplicate field IDs" name="FormModificationOperations validateFormConfig should detect duplicate field IDs" time="0">
    </testcase>
    <testcase classname="FormModificationOperations validateFormConfig should detect empty field labels" name="FormModificationOperations validateFormConfig should detect empty field labels" time="0.001">
    </testcase>
    <testcase classname="FormModificationOperations validateFormConfig should detect choice fields without options" name="FormModificationOperations validateFormConfig should detect choice fields without options" time="0">
    </testcase>
  </testsuite>
  <testsuite name="SubmissionAnalysisTool" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:45" time="0.147" tests="12">
    <testcase classname="SubmissionAnalysisTool filterByDateRange should call SubmissionService.getFormSubmissions with the correct date range" name="SubmissionAnalysisTool filterByDateRange should call SubmissionService.getFormSubmissions with the correct date range" time="0.001">
    </testcase>
    <testcase classname="SubmissionAnalysisTool filterByDateRange should return the submissions from the service" name="SubmissionAnalysisTool filterByDateRange should return the submissions from the service" time="0.001">
    </testcase>
    <testcase classname="SubmissionAnalysisTool filterByStatus should call SubmissionService.getFormSubmissions with the correct status" name="SubmissionAnalysisTool filterByStatus should call SubmissionService.getFormSubmissions with the correct status" time="0">
    </testcase>
    <testcase classname="SubmissionAnalysisTool filterByStatus should return the submissions from the service" name="SubmissionAnalysisTool filterByStatus should return the submissions from the service" time="0">
    </testcase>
    <testcase classname="SubmissionAnalysisTool analyze should correctly analyze the submissions response" name="SubmissionAnalysisTool analyze should correctly analyze the submissions response" time="0">
    </testcase>
    <testcase classname="SubmissionAnalysisTool formatForAnalysis should correctly format submissions for analysis" name="SubmissionAnalysisTool formatForAnalysis should correctly format submissions for analysis" time="0.001">
    </testcase>
    <testcase classname="SubmissionAnalysisTool getAverageRating should calculate the average rating for a numeric question" name="SubmissionAnalysisTool getAverageRating should calculate the average rating for a numeric question" time="0.001">
    </testcase>
    <testcase classname="SubmissionAnalysisTool getAverageRating should return null if no numeric ratings are found" name="SubmissionAnalysisTool getAverageRating should return null if no numeric ratings are found" time="0">
    </testcase>
    <testcase classname="SubmissionAnalysisTool getResponseDistribution should calculate the response distribution for a question" name="SubmissionAnalysisTool getResponseDistribution should calculate the response distribution for a question" time="0.003">
    </testcase>
    <testcase classname="SubmissionAnalysisTool exportToCSV should export formatted submissions to a CSV file" name="SubmissionAnalysisTool exportToCSV should export formatted submissions to a CSV file" time="0.002">
    </testcase>
    <testcase classname="SubmissionAnalysisTool exportToJSON should export formatted submissions to a JSON file" name="SubmissionAnalysisTool exportToJSON should export formatted submissions to a JSON file" time="0.001">
    </testcase>
    <testcase classname="SubmissionAnalysisTool search should return submissions matching the search query" name="SubmissionAnalysisTool search should return submissions matching the search query" time="0">
    </testcase>
  </testsuite>
  <testsuite name="WorkspaceManagementTool" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:45" time="0.135" tests="5">
    <testcase classname="WorkspaceManagementTool listWorkspaces should call WorkspaceService.getWorkspaces and return the result" name="WorkspaceManagementTool listWorkspaces should call WorkspaceService.getWorkspaces and return the result" time="0">
    </testcase>
    <testcase classname="WorkspaceManagementTool getWorkspaceDetails should call WorkspaceService.getWorkspace and return the result" name="WorkspaceManagementTool getWorkspaceDetails should call WorkspaceService.getWorkspace and return the result" time="0">
    </testcase>
    <testcase classname="WorkspaceManagementTool inviteUserToWorkspace should call WorkspaceService.inviteUser with the correct parameters" name="WorkspaceManagementTool inviteUserToWorkspace should call WorkspaceService.inviteUser with the correct parameters" time="0.001">
    </testcase>
    <testcase classname="WorkspaceManagementTool removeUserFromWorkspace should call WorkspaceService.removeUser with the correct parameters" name="WorkspaceManagementTool removeUserFromWorkspace should call WorkspaceService.removeUser with the correct parameters" time="0">
    </testcase>
    <testcase classname="WorkspaceManagementTool updateUserRoleInWorkspace should call WorkspaceService.updateUserRole with the correct parameters" name="WorkspaceManagementTool updateUserRoleInWorkspace should call WorkspaceService.updateUserRole with the correct parameters" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="Cloudflare Worker Components" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:45" time="0.13" tests="18">
    <testcase classname="Cloudflare Worker Components Environment Interface should define required environment variables" name="Cloudflare Worker Components Environment Interface should define required environment variables" time="0">
    </testcase>
    <testcase classname="Cloudflare Worker Components Environment Interface should handle missing optional environment variables" name="Cloudflare Worker Components Environment Interface should handle missing optional environment variables" time="0.001">
    </testcase>
    <testcase classname="Cloudflare Worker Components MCP Protocol Structures should validate MCP request structure" name="Cloudflare Worker Components MCP Protocol Structures should validate MCP request structure" time="0">
    </testcase>
    <testcase classname="Cloudflare Worker Components MCP Protocol Structures should validate MCP response structure" name="Cloudflare Worker Components MCP Protocol Structures should validate MCP response structure" time="0">
    </testcase>
    <testcase classname="Cloudflare Worker Components MCP Protocol Structures should validate MCP error response structure" name="Cloudflare Worker Components MCP Protocol Structures should validate MCP error response structure" time="0.001">
    </testcase>
    <testcase classname="Cloudflare Worker Components Tool Schema Validation should validate create_form tool schema structure" name="Cloudflare Worker Components Tool Schema Validation should validate create_form tool schema structure" time="0">
    </testcase>
    <testcase classname="Cloudflare Worker Components Tool Schema Validation should validate form status enum values" name="Cloudflare Worker Components Tool Schema Validation should validate form status enum values" time="0">
    </testcase>
    <testcase classname="Cloudflare Worker Components Tool Schema Validation should validate field type mappings" name="Cloudflare Worker Components Tool Schema Validation should validate field type mappings" time="0.001">
    </testcase>
    <testcase classname="Cloudflare Worker Components Session Management should validate SSE session structure" name="Cloudflare Worker Components Session Management should validate SSE session structure" time="0.001">
    </testcase>
    <testcase classname="Cloudflare Worker Components Session Management should handle session cleanup logic" name="Cloudflare Worker Components Session Management should handle session cleanup logic" time="0.001">
    </testcase>
    <testcase classname="Cloudflare Worker Components API Key Validation should validate API key format requirements" name="Cloudflare Worker Components API Key Validation should validate API key format requirements" time="0.001">
    </testcase>
    <testcase classname="Cloudflare Worker Components API Key Validation should handle API key extraction from different sources" name="Cloudflare Worker Components API Key Validation should handle API key extraction from different sources" time="0">
    </testcase>
    <testcase classname="Cloudflare Worker Components Error Response Generation should generate JSON-RPC error responses" name="Cloudflare Worker Components Error Response Generation should generate JSON-RPC error responses" time="0.001">
    </testcase>
    <testcase classname="Cloudflare Worker Components Error Response Generation should generate appropriate HTTP status codes" name="Cloudflare Worker Components Error Response Generation should generate appropriate HTTP status codes" time="0">
    </testcase>
    <testcase classname="Cloudflare Worker Components CORS Headers Management should define proper CORS headers" name="Cloudflare Worker Components CORS Headers Management should define proper CORS headers" time="0.001">
    </testcase>
    <testcase classname="Cloudflare Worker Components CORS Headers Management should handle preflight request detection" name="Cloudflare Worker Components CORS Headers Management should handle preflight request detection" time="0.001">
    </testcase>
    <testcase classname="Cloudflare Worker Components Request Method Routing should identify different request types" name="Cloudflare Worker Components Request Method Routing should identify different request types" time="0">
    </testcase>
    <testcase classname="Cloudflare Worker Components Request Method Routing should validate method-path combinations" name="Cloudflare Worker Components Request Method Routing should validate method-path combinations" time="0">
    </testcase>
  </testsuite>
  <testsuite name="TemplateService" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:45" time="0.132" tests="12">
    <testcase classname="TemplateService getTemplates should return all available templates" name="TemplateService getTemplates should return all available templates" time="0">
    </testcase>
    <testcase classname="TemplateService findTemplateById should find a template by its ID" name="TemplateService findTemplateById should find a template by its ID" time="0.001">
    </testcase>
    <testcase classname="TemplateService findTemplateById should return undefined for a non-existent template ID" name="TemplateService findTemplateById should return undefined for a non-existent template ID" time="0">
    </testcase>
    <testcase classname="TemplateService instantiateTemplate should instantiate a form from a template" name="TemplateService instantiateTemplate should instantiate a form from a template" time="0.001">
    </testcase>
    <testcase classname="TemplateService instantiateTemplate should override the title if a custom title is provided" name="TemplateService instantiateTemplate should override the title if a custom title is provided" time="0">
    </testcase>
    <testcase classname="TemplateService instantiateTemplate should return undefined for a non-existent template ID" name="TemplateService instantiateTemplate should return undefined for a non-existent template ID" time="0.001">
    </testcase>
    <testcase classname="TemplateService instantiateTemplate should create a deep copy of the form configuration" name="TemplateService instantiateTemplate should create a deep copy of the form configuration" time="0">
    </testcase>
    <testcase classname="TemplateService createTemplate should create a new template and add it to the registry" name="TemplateService createTemplate should create a new template and add it to the registry" time="0.001">
    </testcase>
    <testcase classname="TemplateService updateTemplate should update an existing template" name="TemplateService updateTemplate should update an existing template" time="0">
    </testcase>
    <testcase classname="TemplateService updateTemplate should return undefined for a non-existent template ID" name="TemplateService updateTemplate should return undefined for a non-existent template ID" time="0">
    </testcase>
    <testcase classname="TemplateService deleteTemplate should delete an existing template" name="TemplateService deleteTemplate should delete an existing template" time="0.001">
    </testcase>
    <testcase classname="TemplateService deleteTemplate should return false for a non-existent template ID" name="TemplateService deleteTemplate should return false for a non-existent template ID" time="0">
    </testcase>
  </testsuite>
  <testsuite name="WorkspaceService" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:46" time="0.129" tests="5">
    <testcase classname="WorkspaceService getWorkspaces should call TallyApiClient.getWorkspaces and return the result" name="WorkspaceService getWorkspaces should call TallyApiClient.getWorkspaces and return the result" time="0.001">
    </testcase>
    <testcase classname="WorkspaceService getWorkspace should call TallyApiClient.getWorkspace and return the result" name="WorkspaceService getWorkspace should call TallyApiClient.getWorkspace and return the result" time="0.001">
    </testcase>
    <testcase classname="WorkspaceService inviteUser should call TallyApiClient.inviteUserToWorkspace with the correct parameters" name="WorkspaceService inviteUser should call TallyApiClient.inviteUserToWorkspace with the correct parameters" time="0">
    </testcase>
    <testcase classname="WorkspaceService removeUser should call TallyApiClient.removeUserFromWorkspace with the correct parameters" name="WorkspaceService removeUser should call TallyApiClient.removeUserFromWorkspace with the correct parameters" time="0">
    </testcase>
    <testcase classname="WorkspaceService updateUserRole should call TallyApiClient.updateUserRole with the correct parameters" name="WorkspaceService updateUserRole should call TallyApiClient.updateUserRole with the correct parameters" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="TallyApiClient Integration Tests" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:46" time="0.135" tests="9">
    <testcase classname="TallyApiClient Integration Tests Retry Configuration Integration should initialize with default retry configuration" name="TallyApiClient Integration Tests Retry Configuration Integration should initialize with default retry configuration" time="0">
    </testcase>
    <testcase classname="TallyApiClient Integration Tests Retry Configuration Integration should accept custom retry configuration" name="TallyApiClient Integration Tests Retry Configuration Integration should accept custom retry configuration" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Integration Tests Retry Configuration Integration should merge partial retry configuration with defaults" name="TallyApiClient Integration Tests Retry Configuration Integration should merge partial retry configuration with defaults" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Integration Tests Retry Configuration Integration should have interceptors set up when retry config is provided" name="TallyApiClient Integration Tests Retry Configuration Integration should have interceptors set up when retry config is provided" time="0.002">
    </testcase>
    <testcase classname="TallyApiClient Integration Tests Retry Configuration Integration should maintain backward compatibility when no retry config is provided" name="TallyApiClient Integration Tests Retry Configuration Integration should maintain backward compatibility when no retry config is provided" time="0.001">
    </testcase>
    <testcase classname="TallyApiClient Integration Tests Error Handling Configuration should have proper error types available for retry logic" name="TallyApiClient Integration Tests Error Handling Configuration should have proper error types available for retry logic" time="0">
    </testcase>
    <testcase classname="TallyApiClient Integration Tests Error Handling Configuration should create client with debug logging enabled" name="TallyApiClient Integration Tests Error Handling Configuration should create client with debug logging enabled" time="0">
    </testcase>
    <testcase classname="TallyApiClient Integration Tests Circuit Breaker Configuration should configure circuit breaker with custom settings" name="TallyApiClient Integration Tests Circuit Breaker Configuration should configure circuit breaker with custom settings" time="0">
    </testcase>
    <testcase classname="TallyApiClient Integration Tests Circuit Breaker Configuration should allow disabling circuit breaker" name="TallyApiClient Integration Tests Circuit Breaker Configuration should allow disabling circuit breaker" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="NlpService" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:46" time="0.127" tests="4">
    <testcase classname="NlpService customizeFormConfig should add a new question to the form" name="NlpService customizeFormConfig should add a new question to the form" time="0.001">
    </testcase>
    <testcase classname="NlpService customizeFormConfig should remove an existing question from the form" name="NlpService customizeFormConfig should remove an existing question from the form" time="0">
    </testcase>
    <testcase classname="NlpService customizeFormConfig should update the form title" name="NlpService customizeFormConfig should update the form title" time="0.001">
    </testcase>
    <testcase classname="NlpService customizeFormConfig should handle multiple commands" name="NlpService customizeFormConfig should handle multiple commands" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Matrix Question Support" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:46" time="0.129" tests="4">
    <testcase classname="Matrix Question Support Matrix Question Creation should create a matrix question with default configuration" name="Matrix Question Support Matrix Question Creation should create a matrix question with default configuration" time="0.003">
    </testcase>
    <testcase classname="Matrix Question Support Matrix Question Creation should include matrix in choice field types" name="Matrix Question Support Matrix Question Creation should include matrix in choice field types" time="0.001">
    </testcase>
    <testcase classname="Matrix Question Support Matrix Question Creation should generate appropriate default label for matrix questions" name="Matrix Question Support Matrix Question Creation should generate appropriate default label for matrix questions" time="0">
    </testcase>
    <testcase classname="Matrix Question Support Matrix Question Structure should have properly structured rows and columns" name="Matrix Question Support Matrix Question Structure should have properly structured rows and columns" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="Tally API Client - Forms" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:46" time="0.127" tests="3">
    <testcase classname="Tally API Client - Forms should fetch forms and validate the response" name="Tally API Client - Forms should fetch forms and validate the response" time="0.001">
    </testcase>
    <testcase classname="Tally API Client - Forms should fetch a single form and validate the response" name="Tally API Client - Forms should fetch a single form and validate the response" time="0">
    </testcase>
    <testcase classname="Tally API Client - Forms should fetch form submissions and validate the response" name="Tally API Client - Forms should fetch form submissions and validate the response" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="Tally API Client - Workspaces and User" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:46" time="0.127" tests="2">
    <testcase classname="Tally API Client - Workspaces and User should fetch workspaces and validate the response" name="Tally API Client - Workspaces and User should fetch workspaces and validate the response" time="0.001">
    </testcase>
    <testcase classname="Tally API Client - Workspaces and User should fetch a single workspace and validate the response" name="Tally API Client - Workspaces and User should fetch a single workspace and validate the response" time="0">
    </testcase>
  </testsuite>
  <testsuite name="Network Resilience and Timeout" errors="0" failures="0" skipped="0" timestamp="2025-06-13T13:37:46" time="0.116" tests="1">
    <testcase classname="Network Resilience and Timeout should have tests" name="Network Resilience and Timeout should have tests" time="0">
    </testcase>
  </testsuite>
</testsuites>